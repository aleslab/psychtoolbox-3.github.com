<h1 id="screen">[[Screen]]</h1>
<h2 id="psychtoolbox-screen.mexdll-subfunction">[[Psychtoolbox]] › [[Screen]].{mex*,dll} subfunction</h2>
<p>Usage:</p>
<p>% Activate compatibility mode: Try to behave like the old MacOS-9 Psychtoolbox:<br />
oldEnableFlag=Screen(‘<a href="Screen-Preference">Preference</a>’, ‘EmulateOldPTB’, [enableFlag]);</p>
<p>% Open or close a window or texture:<br />
[windowPtr,rect]=Screen(‘<a href="Screen-OpenWindow">OpenWindow</a>’,windowPtrOrScreenNumber [,color] [,rect] [,pixelSize] [,numberOfBuffers] [,stereomode] [,multisample][,imagingmode][,specialFlags][,clientRect]);<br />
[windowPtr,rect]=Screen(‘<a href="Screen-OpenOffscreenWindow">OpenOffscreenWindow</a>’,windowPtrOrScreenNumber [,color] [,rect] [,pixelSize] [,specialFlags] [,multiSample]);<br />
textureIndex=Screen(‘<a href="Screen-MakeTexture">MakeTexture</a>’, WindowIndex, imageMatrix [, optimizeForDrawAngle=0] [, specialFlags=0] [, floatprecision=0] [, textureOrientation=0] [, textureShader=0]);<br />
oldParams = Screen(‘<a href="Screen-PanelFitter">PanelFitter</a>’, windowPtr [, newParams]);<br />
Screen(‘<a href="Screen-Close">Close</a>’, [windowOrTextureIndex or list of textureIndices/offscreenWindowIndices]);<br />
Screen(‘<a href="Screen-CloseAll">CloseAll</a>’);</p>
<p>% Draw lines and solids like QuickDraw and DirectX (OS 9 and Windows):<br />
currentbuffer = Screen(‘<a href="Screen-SelectStereoDrawBuffer">SelectStereoDrawBuffer</a>’, windowPtr [, bufferid] [, param1]);<br />
Screen(‘<a href="Screen-DrawLine">DrawLine</a>’, windowPtr [,color], fromH, fromV, toH, toV [,penWidth]);<br />
Screen(‘<a href="Screen-DrawArc">DrawArc</a>’,windowPtr,[color],[rect],startAngle,arcAngle)<br />
Screen(‘<a href="Screen-FrameArc">FrameArc</a>’,windowPtr,[color],[rect],startAngle,arcAngle[,penWidth] [,penHeight] [,penMode])<br />
Screen(‘<a href="Screen-FillArc">FillArc</a>’,windowPtr,[color],[rect],startAngle,arcAngle)<br />
Screen(‘<a href="Screen-FillRect">FillRect</a>’, windowPtr [,color] [,rect] );<br />
Screen(‘<a href="Screen-FrameRect">FrameRect</a>’, windowPtr [,color] [,rect] [,penWidth]);<br />
Screen(‘<a href="Screen-FillOval">FillOval</a>’, windowPtr [,color] [,rect] [,perfectUpToMaxDiameter]);<br />
Screen(‘<a href="Screen-FrameOval">FrameOval</a>’, windowPtr [,color] [,rect] [,penWidth] [,penHeight] [,penMode]);<br />
Screen(‘<a href="Screen-FramePoly">FramePoly</a>’, windowPtr [,color], pointList [,penWidth]);<br />
Screen(‘<a href="Screen-FillPoly">FillPoly</a>’, windowPtr [,color], pointList [, isConvex]);</p>
<p>% New OpenGL functions for OS X:<br />
Screen(‘<a href="Screen-glPoint">glPoint</a>’, windowPtr, color, x, y [,size]);<br />
Screen(‘<a href="Screen-gluDisk">gluDisk</a>’, windowPtr, color, x, y [,size]);<br />
[minSmoothPointSize, maxSmoothPointSize, minAliasedPointSize, maxAliasedPointSize] = Screen(‘<a href="Screen-DrawDots">DrawDots</a>’, windowPtr, xy [,size] [,color] [,center] [,dot_type] [,lenient]);<br />
[minSmoothLineWidth, maxSmoothLineWidth, minAliasedLineWidth, maxAliasedLineWidth] = Screen(‘<a href="Screen-DrawLines">DrawLines</a>’, windowPtr, xy [,width] [,colors] [,center] [,smooth] [,lenient]);<br />
[sourceFactorOld, destinationFactorOld, colorMaskOld]=Screen(‘<a href="Screen-BlendFunction">BlendFunction</a>’, windowIndex, [sourceFactorNew], [destinationFactorNew], [colorMaskNew]);</p>
<p>% Draw Text in windows<br />
textModes = Screen(‘<a href="Screen-TextModes">TextModes</a>’);<br />
oldCopyMode=Screen(‘<a href="Screen-TextMode">TextMode</a>’, windowPtr [,textMode]);<br />
oldTextSize=Screen(‘<a href="Screen-TextSize">TextSize</a>’, windowPtr [,textSize]);<br />
oldStyle=Screen(‘<a href="Screen-TextStyle">TextStyle</a>’, windowPtr [,style]);<br />
[oldFontName,oldFontNumber,oldTextStyle]=Screen(‘<a href="Screen-TextFont">TextFont</a>’, windowPtr [,fontNameOrNumber][,textStyle]);<br />
[normBoundsRect, offsetBoundsRect, textHeight]= Screen(‘<a href="Screen-TextBounds">TextBounds</a>’, windowPtr, text [,x] [,y] [,yPositionIsBaseline] [,swapTextDirection]);<br />
[newX, newY, textHeight]=Screen(‘<a href="Screen-DrawText">DrawText</a>’, windowPtr, text [,x] [,y] [,color] [,backgroundColor] [,yPositionIsBaseline] [,swapTextDirection]);<br />
oldTextColor=Screen(‘<a href="Screen-TextColor">TextColor</a>’, windowPtr [,colorVector]);<br />
oldTextBackgroundColor=Screen(‘<a href="Screen-TextBackgroundColor">TextBackgroundColor</a>’, windowPtr [,colorVector]);<br />
oldMatrix = Screen(‘<a href="Screen-TextTransform">TextTransform</a>’, windowPtr [, newMatrix]);</p>
<p>% Copy an image, very quickly, between textures, offscreen windows and onscreen windows.<br />
[resident [texidresident]] = Screen(‘<a href="Screen-PreloadTextures">PreloadTextures</a>’, windowPtr [, texids]);<br />
Screen(‘<a href="Screen-DrawTexture">DrawTexture</a>’, windowPointer, texturePointer [,sourceRect] [,destinationRect] [,rotationAngle] [, filterMode] [, globalAlpha] [, modulateColor] [, textureShader] [, specialFlags] [, auxParameters]);<br />
Screen(‘<a href="Screen-DrawTextures">DrawTextures</a>’, windowPointer, texturePointer(s) [, sourceRect(s)] [, destinationRect(s)] [, rotationAngle(s)] [, filterMode(s)] [, globalAlpha(s)] [, modulateColor(s)] [, textureShader] [, specialFlags] [, auxParameters]);<br />
Screen(‘<a href="Screen-CopyWindow">CopyWindow</a>’, srcWindowPtr, dstWindowPtr, [srcRect], [dstRect], [copyMode])</p>
<p>% Copy an image, slowly, between matrices and windows :<br />
imageArray=Screen(‘<a href="Screen-GetImage">GetImage</a>’, windowPtr [,rect] [,bufferName] [,floatprecision=0] [,nrchannels=3])<br />
Screen(‘<a href="Screen-PutImage">PutImage</a>’, windowPtr, imageArray [,rect]);</p>
<p>% Synchronize with the window’s screen (on-screen only):<br />
[VBLTimestamp StimulusOnsetTime FlipTimestamp Missed Beampos] = Screen(‘<a href="Screen-Flip">Flip</a>’, windowPtr [, when] [, dontclear] [, dontsync] [, multiflip]);<br />
[VBLTimestamp StimulusOnsetTime FlipTimestamp Missed Beampos] = Screen(‘<a href="Screen-AsyncFlipBegin">AsyncFlipBegin</a>’, windowPtr [, when] [, dontclear] [, dontsync] [, multiflip]);<br />
[VBLTimestamp StimulusOnsetTime FlipTimestamp Missed Beampos] = Screen(‘<a href="Screen-AsyncFlipEnd">AsyncFlipEnd</a>’, windowPtr);<br />
[VBLTimestamp StimulusOnsetTime FlipTimestamp Missed Beampos] = Screen(‘<a href="Screen-AsyncFlipCheckEnd">AsyncFlipCheckEnd</a>’, windowPtr);<br />
[VBLTimestamp StimulusOnsetTime swapCertainTime] = Screen(‘<a href="Screen-WaitUntilAsyncFlipCertain">WaitUntilAsyncFlipCertain</a>’, windowPtr);<br />
[info] = Screen(‘<a href="Screen-GetFlipInfo">GetFlipInfo</a>’, windowPtr [, infoType=0] [, auxArg1]);<br />
[telapsed] = Screen(‘<a href="Screen-DrawingFinished">DrawingFinished</a>’, windowPtr [, dontclear] [, sync]);<br />
framesSinceLastWait = Screen(‘<a href="Screen-WaitBlanking">WaitBlanking</a>’, windowPtr [, waitFrames]);</p>
<p>% Load color lookup table of the window’s screen (on-screen only):<br />
[gammatable, dacbits, reallutsize] = Screen(‘<a href="Screen-ReadNormalizedGammaTable">ReadNormalizedGammaTable</a>’, windowPtrOrScreenNumber [, physicalDisplay]);<br />
[oldtable, success] = Screen(‘<a href="Screen-LoadNormalizedGammaTable">LoadNormalizedGammaTable</a>’, windowPtrOrScreenNumber, table [, loadOnNextFlip][, physicalDisplay][, ignoreErrors]);<br />
oldclut = Screen(‘<a href="Screen-LoadCLUT">LoadCLUT</a>’, windowPtrOrScreenNumber [, clut] [, startEntry=0] [, bits=8]);</p>
<p>% Get (and set) information about a window or screen:<br />
screenNumbers=Screen(‘<a href="Screen-Screens">Screens</a>’ [, physicalDisplays]);<br />
windowPtrs=Screen(‘<a href="Screen-Windows">Windows</a>’);<br />
kind=Screen(windowPtr, ‘WindowKind’);<br />
isOffscreen=Screen(windowPtr,‘IsOffscreen’);<br />
hz=Screen(‘<a href="Screen-FrameRate">FrameRate</a>’, windowPtrOrScreenNumber [, mode] [, reqFrameRate]);<br />
hz=Screen(‘<a href="Screen-NominalFrameRate">NominalFrameRate</a>’, windowPtrOrScreenNumber [, mode] [, reqFrameRate]);<br />
[ monitorFlipInterval nrValidSamples stddev ]=Screen(‘<a href="Screen-GetFlipInterval">GetFlipInterval</a>’, windowPtr [, nrSamples] [, stddev] [, timeout]);<br />
screenNumber=Screen(‘<a href="Screen-WindowScreenNumber">WindowScreenNumber</a>’, windowPtr);<br />
rect=Screen(‘<a href="Screen-Rect">Rect</a>’, windowPtrOrScreenNumber [, realFBSize=0]);<br />
pixelSize=Screen(‘<a href="Screen-PixelSize">PixelSize</a>’, windowPtrOrScreenNumber);<br />
pixelSizes=Screen(‘<a href="Screen-PixelSizes">PixelSizes</a>’, windowPtrOrScreenNumber);<br />
[width, height]=Screen(‘<a href="Screen-WindowSize">WindowSize</a>’, windowPointerOrScreenNumber [, realFBSize=0]);<br />
[width, height]=Screen(‘<a href="Screen-DisplaySize">DisplaySize</a>’, ScreenNumber);<br />
[oldmaximumvalue, oldclampcolors, oldapplyToDoubleInputMakeTexture] = Screen(‘<a href="Screen-ColorRange">ColorRange</a>’, windowPtr [, maximumvalue][, clampcolors][, applyToDoubleInputMakeTexture]);<br />
info = Screen(‘<a href="Screen-GetWindowInfo">GetWindowInfo</a>’, windowPtr [, infoType=0] [, auxArg1]);<br />
resolutions=Screen(‘<a href="Screen-Resolutions">Resolutions</a>’, screenNumber);<br />
oldResolution=Screen(‘<a href="Screen-Resolution">Resolution</a>’, screenNumber [, newwidth] [, newheight] [, newHz] [, newPixelSize] [, specialMode]);<br />
oldSettings = Screen(‘<a href="Screen-ConfigureDisplay">ConfigureDisplay</a>’, setting, screenNumber, outputId [, newwidth][, newheight][, newHz][, newX][, newY]);</p>
<p>% Get/set details of environment, computer, and video card (i.e. screen):<br />
struct=Screen(‘<a href="Screen-Version">Version</a>’);<br />
comp=Screen(‘<a href="Screen-Computer">Computer</a>’);<br />
oldBool=Screen(‘<a href="Screen-Preference">Preference</a>’, ‘IgnoreCase’ [,bool]);<br />
tick0Secs=Screen(‘<a href="Screen-Preference">Preference</a>’, ‘Tick0Secs’, tick0Secs);<br />
psychTableVersion=Screen(‘<a href="Screen-Preference">Preference</a>’, ‘PsychTableVersion’);<br />
mexFunctionName=Screen(‘<a href="Screen-Preference">Preference</a>’, ‘PsychTableCreator’);<br />
proc=Screen(‘<a href="Screen-Preference">Preference</a>’, ‘Process’);<br />
Screen(‘<a href="Screen-Preference">Preference</a>’,‘SkipSyncTests’, skipTest);<br />
Screen(‘<a href="Screen-Preference">Preference</a>’,‘VisualDebugLevel’, level (valid values between 0 and 5));<br />
Screen(‘<a href="Screen-Preference">Preference</a>’, ‘ConserveVRAM’, mode (valid values between 0 and 3));<br />
Screen(‘<a href="Screen-Preference">Preference</a>’, ‘Enable3DGraphics’, [enableFlag]);</p>
<p>% Helper functions. Don’t call these directly, use eponymous wrappers:<br />
[x, y, buttonVector, hasKbFocus, valuators]= Screen(‘<a href="Screen-GetMouseHelper">GetMouseHelper</a>’, numButtons [, screenNumber][, mouseIndex]);<br />
Screen(‘<a href="Screen-HideCursorHelper">HideCursorHelper</a>’, windowPntr [, mouseIndex]);<br />
Screen(‘<a href="Screen-ShowCursorHelper">ShowCursorHelper</a>’, windowPntr [, cursorshapeid][, mouseIndex]);<br />
Screen(‘<a href="Screen-SetMouseHelper">SetMouseHelper</a>’, windowPntrOrScreenNumber, x, y [, mouseIndex][, detachFromMouse]);</p>
<p>% Internal testing of Screen<br />
timeList= Screen(‘GetTimelist’);<br />
Screen(‘ClearTimelist’);<br />
Screen(‘<a href="Screen-Preference">Preference</a>’,‘DebugMakeTexture’, enableDebugging);</p>
<p>% Movie and multimedia playback functions:<br />
[ moviePtr [duration] [fps] [width] [height] [count] [aspectRatio]]=Screen(‘<a href="Screen-OpenMovie">OpenMovie</a>’, windowPtr, moviefile [, async=0] [, preloadSecs=1] [, specialFlags1=0][, pixelFormat=4][, maxNumberThreads=-1][, movieOptions]);<br />
Screen(‘<a href="Screen-CloseMovie">CloseMovie</a>’, moviePtr);<br />
[ texturePtr [timeindex]]=Screen(‘<a href="Screen-GetMovieImage">GetMovieImage</a>’, windowPtr, moviePtr, [waitForImage], [fortimeindex], [specialFlags = 0] [, specialFlags2 = 0]);<br />
[droppedframes] = Screen(‘<a href="Screen-PlayMovie">PlayMovie</a>’, moviePtr, rate, [loop], [soundvolume]);<br />
timeindex = Screen(‘<a href="Screen-GetMovieTimeIndex">GetMovieTimeIndex</a>’, moviePtr);<br />
[oldtimeindex] = Screen(‘<a href="Screen-SetMovieTimeIndex">SetMovieTimeIndex</a>’, moviePtr, timeindex [, indexIsFrames=0]);<br />
moviePtr = Screen(‘<a href="Screen-CreateMovie">CreateMovie</a>’, windowPtr, movieFile [, width][, height][, frameRate=30][, movieOptions][, numChannels=4][, bitdepth=8]);<br />
Screen(‘<a href="Screen-FinalizeMovie">FinalizeMovie</a>’, moviePtr);<br />
Screen(‘<a href="Screen-AddFrameToMovie">AddFrameToMovie</a>’, windowPtr [,rect] [,bufferName] [,moviePtr=0] [,frameduration=1]);<br />
Screen(‘<a href="Screen-AddAudioBufferToMovie">AddAudioBufferToMovie</a>’, moviePtr, audioBuffer);</p>
<p>% Video capture functions:<br />
devices = Screen(‘<a href="Screen-VideoCaptureDevices">VideoCaptureDevices</a>’ [, engineId]);<br />
videoPtr =Screen(‘<a href="Screen-OpenVideoCapture">OpenVideoCapture</a>’, windowPtr [, deviceIndex][, roirectangle][, pixeldepth][, numbuffers][, allowfallback][, targetmoviename][, recordingflags][, captureEngineType][, bitdepth=8]);<br />
Screen(‘<a href="Screen-CloseVideoCapture">CloseVideoCapture</a>’, capturePtr);<br />
[fps starttime] = Screen(‘<a href="Screen-StartVideoCapture">StartVideoCapture</a>’, capturePtr [, captureRateFPS] [, dropframes=0] [, startAt]);<br />
droppedframes = Screen(‘<a href="Screen-StopVideoCapture">StopVideoCapture</a>’, capturePtr [, discardFrames=1]);<br />
[ texturePtr [capturetimestamp] [droppedcount] [average_intensityOrRawImageMatrix]]=Screen(‘<a href="Screen-GetCapturedImage">GetCapturedImage</a>’, windowPtr, capturePtr [, waitForImage=1] [,oldTexture] [,specialmode] [,targetmemptr]);<br />
oldvalue = Screen(‘<a href="Screen-SetVideoCaptureParameter">SetVideoCaptureParameter</a>’, capturePtr, ‘parameterName’ [, value]);</p>
<p>% Low level direct access to OpenGL-API functions:<br />
% Online info for each function available by opening a terminal window<br />
% and typing ‘man Functionname’ + Enter.</p>
<p>Screen(‘<a href="Screen-glPushMatrix">glPushMatrix</a>’, windowPtr);<br />
Screen(‘<a href="Screen-glPopMatrix">glPopMatrix</a>’, windowPtr);<br />
Screen(‘<a href="Screen-glLoadIdentity">glLoadIdentity</a>’, windowPtr);<br />
Screen(‘<a href="Screen-glTranslate">glTranslate</a>’, windowPtr, tx, ty [, tz]);<br />
Screen(‘<a href="Screen-glScale">glScale</a>’, windowPtr, sx, sy [, sz]);<br />
Screen(‘<a href="Screen-glRotate">glRotate</a>’, windowPtr, angle, [rx = 0], [ry = 0] ,[rz = 1]);</p>
<p>% Support for 3D graphics rendering and for interfacing with external OpenGL code:<br />
Screen(‘<a href="Screen-Preference">Preference</a>’, ‘Enable3DGraphics’, [enableFlag]); % Enable 3D gfx support.<br />
Screen(‘<a href="Screen-BeginOpenGL">BeginOpenGL</a>’, windowPtr [, sharecontext]); % Prepare window for external OpenGL drawing.<br />
Screen(‘<a href="Screen-EndOpenGL">EndOpenGL</a>’, windowPtr); % Finish external OpenGL drawing.<br />
[targetwindow, IsOpenGLRendering] = Screen(‘<a href="Screen-GetOpenGLDrawMode">GetOpenGLDrawMode</a>’);<br />
[textureHandle rect] = Screen(‘<a href="Screen-SetOpenGLTextureFromMemPointer">SetOpenGLTextureFromMemPointer</a>’, windowPtr, textureHandle, imagePtr, width, height, depth [, upsidedown][, target][, glinternalformat][, gltype][, extdataformat][, specialFlags]);<br />
[textureHandle rect] = Screen(‘<a href="Screen-SetOpenGLTexture">SetOpenGLTexture</a>’, windowPtr, textureHandle, glTexid, target [, glWidth][, glHeight][, glDepth][, textureShader][, specialFlags]);<br />
[ gltexid gltextarget texcoord_u texcoord_v ] =Screen(‘<a href="Screen-GetOpenGLTexture">GetOpenGLTexture</a>’, windowPtr, textureHandle [, x][, y]);</p>
<p>% Support for plugins and for builtin high performance image processing pipeline:<br />
[ret1, ret2, …] = Screen(‘<a href="Screen-HookFunction">HookFunction</a>’, windowPtr, ‘Subcommand’, ‘HookName’, arg1, arg2, …);<br />
proxyPtr = Screen(‘<a href="Screen-OpenProxy">OpenProxy</a>’, windowPtr [, imagingmode]);<br />
transtexid = Screen(‘<a href="Screen-TransformTexture">TransformTexture</a>’, sourceTexture, transformProxyPtr [, sourceTexture2][, targetTexture][, specialFlags]);</p>
<p><a href="Screen" class="uri">Screen</a> is a MEX file for precise control of the video display. <a href="Screen" class="uri">Screen</a> has<br />
many functions; type “<a href="Screen" class="uri">Screen</a>” for a list:<br />
<a href="Screen" class="uri">Screen</a></p>
<p>For explanation of any particular screen function, just add a question<br />
mark “?”. E.g. for ‘OpenWindow’, try either of these equivalent forms:<br />
<a href="Screen" class="uri">Screen</a>(‘OpenWindow?’)<br />
<a href="Screen" class="uri">Screen</a> <a href="OpenWindow" class="uri">OpenWindow</a>?</p>
<p>All the <a href="Screen" class="uri">Screen</a> <a href="Preference" class="uri">Preference</a> settings are documented together:<br />
<a href="Screen" class="uri">Screen</a> <a href="Preference" class="uri">Preference</a>?</p>
<p>General <a href="Screen" class="uri">Screen</a> ARGUMENTS, common to most subfunctions of <a href="Screen" class="uri">Screen</a>:</p>
<p>“windowPtr” argument: <a href="Screen" class="uri">Screen</a> ‘OpenWindow’ and ‘OpenOffscreenWindow’ both<br />
return a windowPtr, a number that designates the window you just<br />
created. You can create many windows. To use a window, you pass its<br />
windowPtr to the <a href="Screen" class="uri">Screen</a> function you want to apply to that window.</p>
<p>“rect” argument: “rect” is a 1x4 matrix containing the coordinates of an<br />
imaginary box containing all the pixels. All screen and window<br />
coordinates follow Apple Macintosh conventions. (In Apples the pixels<br />
occupy the space between the coordinates. Thus a rect [0 0 1 1] contains<br />
just one pixel.) Coordinates can be local to the window (i.e. 0,0 origin<br />
is at upper left of window), or local to the screen (origin at upper left<br />
of screen), or “global”, which follows Apple’s convention of treating the<br />
entire desktop (all your screens) as one big screen, with the origin at<br />
upper left of the main screen, which has the menu bar. Historically we’ve<br />
had two different orderings of the elements of rect, so, for general<br />
compatibility, all of the Psychophysics Toolbox refers to the elements<br />
symbolically, through <a href="RectLeft" class="uri">RectLeft</a>, <a href="RectTop" class="uri">RectTop</a>, etc. Since 2/97, we use Apple’s<br />
standard ordering: <a href="RectLeft" class="uri">RectLeft</a>=1, <a href="RectTop" class="uri">RectTop</a>=2, <a href="RectRight" class="uri">RectRight</a>=3, <a href="RectBottom" class="uri">RectBottom</a>=4.</p>
<p>[optional arguments]: Brackets in the function list, e.g. [color],<br />
indicate optional arguments, not matrices. Optional arguments must be in<br />
order, without omitting earlier ones, but you can use the empty matrix<br />
[] as a place holder, with the same effect as omitting it.</p>
<p>WHEN YOU GET A MATLAB ERROR</p>
<p>If your computer only has one screen (the typical scenario) and your<br />
program produces a Matlab error while your full-screen window is open,<br />
you’ll hear the beep, but you won’t be able to see the Matlab Command<br />
Window. Follow the instructions below for bringing forward the command<br />
window, then type clear screen to flush just the <a href="Screen" class="uri">Screen</a> MEX file, or<br />
“clear mex” to flush all the MEX files. When flushed, as part of its<br />
exit sequence, <a href="Screen" class="uri">Screen</a> closes all its windows, restores the screen’s normal<br />
color table, and shows the cursor. Or you can get just those effects,<br />
without flushing, by calling <a href="Screen" class="uri">Screen</a>(‘CloseAll’) or <a href="sca" class="uri">sca</a> - which is an<br />
abbreviation for <a href="Screen" class="uri">Screen</a>(‘CloseAll’).</p>
<p>You can use Matlab’s EVAL command to do this for you automatically. E.g.<br />
if your program is called “foo.m”, run your program by calling EVAL:<br />
eval(‘foo’,‘clear screen;error(’‘error in foo’‘)’)</p>
<p>If an error occurs in FOO, Matlab, instead of halting, will execute the<br />
second argument to EVAL, which restores your screen and reports the<br />
error.</p>
<p><a href="OpenGL" class="uri">OpenGL</a>: _________________________________________________________________</p>
<p>Instead of offscreen windows, the <a href="OpenGL" class="uri">OpenGL</a> Psychtoolbox uses fast rendering<br />
and <a href="OpenGL" class="uri">OpenGL</a> textures for animation. With the exception of matrices, all<br />
drawing may be done during the animation loop directly to the onscreen<br />
window, rather than being rendered to offscreen windows before the start<br />
of the movie. Matrices are converted to Textures before the start of the<br />
animation and, like offscreen windows in OS 9, may be quickly copied to<br />
an onscreen window during movie play. Offscreen windows are still supported<br />
if you need to draw very complex stimuli. You can draw the stimulus into<br />
an offscreen window and then quickly copy the window into the onscreen<br />
window. For most purposes however, it is possible to draw directly into<br />
the backbuffer of your offscreen window and make the backbuffer visible<br />
on next vertical blank by a call to <a href="Screen" class="uri">Screen</a>(‘<a href="Flip" class="uri">Flip</a>’, windowPtr).</p>
<p>See <a href="MovieDemoOSX" class="uri">MovieDemoOSX</a> and <a href="DriftDemoOSX" class="uri">DriftDemoOSX</a> for examples of how to create and show<br />
movies this way.</p>
<p>Off-screen windows are invisible, but useful as an intermediate place to<br />
create and store images for later display. Copying from window to window<br />
is very fast. It’s easy to precompute a series of off-screen windows<br />
and then show them as a movie, in real time, one per video frame:</p>
<pre><code>    % make movie  
    window=[Screen](Screen)(&#39;OpenWindow&#39;, 0, 0);  
    rect=[0 0 200 200];  
    white = [WhiteIndex](WhiteIndex)(window);  
    for i=1:100  
        movie(i)=[Screen](Screen)(&#39;OpenOffscreenWindow&#39;, window, 0, rect);  
        [Screen](Screen)(&#39;FillOval&#39;, movie(i), white, [0 0 2 2]\*(i-1));  
    end;  

    % show movie  
    for i=[1:100 100:-1:1] % forwards and backwards  
        [Screen](Screen)(&#39;CopyWindow&#39;,movie(i),window,rect,rect);  
        [Screen](Screen)(&#39;[Flip](Flip)&#39;, window);  
    end;  
    [Screen](Screen)(&#39;CloseAll&#39;);  </code></pre>
<p>Stopping programs:</p>
<p>Command-zero brings the Matlab Command window forward. (Type a zero<br />
“0” while holding the apple-cloverleaf “command” key down.)</p>
<p>Ctrl-C halts any program. (Type a “c” while holding down the “Ctrl”<br />
key). Sometimes, Ctrl-C fails to halt progams executing in a Matlab process<br />
run with the “-nojvm” option. To halt a runaway Psychtoolbox script in<br />
Psychtoolbox you might resort to the Windows Task Manager to kill<br />
the Matlab process. (Use Ctrl-Alt-Delete to open a window from which<br />
you can start the Task Manager.)</p>
<p>Windows:</p>
<p>Ctrl-Alt-Delete allows you to launch the Windows task manager, which<br />
reduces the Psychtoolbox onscreen windows when it opens. (Simultaneosly<br />
press the “Ctrl”, “Alt”, and “Delete” keys.) There are also simpler ways of<br />
reducing the Psychtoolbox window which are specific to particular<br />
versions of Windows.<br />
Windows 2000: Alt-Tab will bring another application to the foreground,<br />
minimizing the Matlab Psychtoolbox window.</p>
<p>OS-X:<br />
Apple-Command-Escape executes “Force Quit” on Matlab, closing Matlab and all<br />
of its windows.</p>
<p>Linux:<br />
Ctrl-Alt-Escape, followed by a mouse click kills the onscreen windows and your<br />
Matlab session.</p>
<p>See “help <a href="PsychDemos" class="uri">PsychDemos</a>” for many demos which demonstrate <a href="Screen" class="uri">Screen</a>’s capabilities.</p>
<p>Differences in Screens capabilities between different operating systems<br />
are discussed in the online help for the different subfunctions, our<br />
“<a href="PsychDemos" class="uri">PsychDemos</a>” if differences apply, and on the Psychtoolbox Wiki under<br />
“Platform Differences and writing portable code”.</p>
<p>BUGS</p>
<p>All known bugs and fixes are eventually described at the web site under “Bugs”:<br />
web http://psychtoolbox.org/ ;</p>
<p>Initial reports appear first at the forum:<br />
web http://www.yahoogroups.com/messages/psychtoolbox/ ;</p>
<p>If you find a bug, please report it to the forum:<br />
web mailto:psychtoolbox@yahoogroups.com ;</p>
<p>It will help greatly if you can supply a minimal-length program that exhibits<br />
the bug. And please include as much information about your hardware and software<br />
setup to document the context in which you’re running, e.g., Computer type, graphics<br />
card type and model, operating system, Matlab version, Psychtoolbox version and flavor<br />
and the output of PTB to the Matlab window.</p>
