<h2 id="psychtoolbox-psychhardware-daq">[[Psychtoolbox]] › [[PsychHardware]] › [[Daq]]</h2>
<p>v=<a href="DaqAIn" class="uri">DaqAIn</a><a href="(DeviceIndex),channel,range,%5B%5BDoNotCalibrate%5D(DoNotCalibrate)%5D">(DeviceIndex</a><br />
Analog input.<br />
USB-1208FS:<br />
“v” is the measured voltage, in Volts, or <a href="NaN" class="uri">NaN</a> if no data were received.<br />
“<a href="DeviceIndex" class="uri">DeviceIndex</a>” is a small integer, the array index specifying which HID<br />
device in the array returned by <a href="PsychHID" class="uri">PsychHID</a>(‘Devices’) is interface 0<br />
of the desired Daq device.<br />
“channel” (0 to 15) selects any of various single-ended or differential<br />
measurements.<br />
“channel” Measurement<br />
0 0-1 (differential)<br />
1 2-3 (differential)<br />
2 4-5 (differential)<br />
3 6-7 (differential)<br />
4 1-0 (differential)<br />
5 3-2 (differential)<br />
6 5-4 (differential)<br />
7 7-6 (differential)<br />
8 0 (single-ended)<br />
9 1 (single-ended)<br />
10 2 (single-ended)<br />
11 3 (single-ended)<br />
12 4 (single-ended)<br />
13 5 (single-ended)<br />
14 6 (single-ended)<br />
15 7 (single-ended)<br />
“range” (0 to 7) sets the gain (hence voltage range):<br />
for single-ended measurements (channels 8-15), range is always +/- 10 V,<br />
and attempts to set ranges other than 0 usually result in saturation, so<br />
setting range in this function does not do anything. For differential<br />
measurements (channels 0-7), the map between range as input to this<br />
function and the output generated is:<br />
0 for Gain 1x (+/-20 V), 1 for Gain 2x (+/-10 V),<br />
2 for Gain 4x (+/-5 V), 3 for Gain 5x (+/-4 V),<br />
4 for Gain 8x (+/-2.5 V), 5 for Gain 10x (+/-2 V),<br />
6 for Gain 16x (+/-1.25 V), 7 for Gain 20x (+/-1 V).<br />
“<a href="DoNotCalibrate" class="uri">DoNotCalibrate</a>” for 1208FS has no effect</p>
<p>USB-1608FS:<br />
only single-ended inputs are defined, so “channel” is restricted to integers<br />
from 0 to 7. Ignore the manual which claims that gains are restricted to only<br />
four possible values. Thank the linux people for discovering:<br />
0 for Gain 1x (+/- 10 V), 1 for Gain 2x (+/-5 V),<br />
2 for Gain 4x (+/- 2.5 V), 3 for Gain 5x (+/- 2 V),<br />
4 for Gain 8x (+/- 1.25 V), 5 for Gain 10x (+/- 1V),<br />
6 for Gain 16x (+/- 0.625 V), 7 for Gain 32x (+/- 0.3125 V)</p>
<p>“<a href="DoNotCalibrate" class="uri">DoNotCalibrate</a>” (0 or 1) if non-zero, function does not use information<br />
acquired from calibration measurements (see <a href="DaqCalibrateAIn">DaqCalibrateAIn)</a>). This should<br />
probably always be 0 when function is called by a user (hence it defaults to<br />
0). Flag was created for the purpose of acquiring calibration data.<br />
Otherwise subsequent calibration measurements would be fits of fits.</p>
<p>See also Daq, <a href="DaqFunctions" class="uri">DaqFunctions</a>, <a href="DaqPins" class="uri">DaqPins</a>, <a href="DaqTest" class="uri">DaqTest</a>, <a href="PsychHIDTest" class="uri">PsychHIDTest</a>,<br />
<a href="DaqDeviceIndex" class="uri">DaqDeviceIndex</a>, <a href="DaqDIn" class="uri">DaqDIn</a>, <a href="DaqDOut" class="uri">DaqDOut</a>, <a href="DaqAIn" class="uri">DaqAIn</a>, <a href="DaqAOut" class="uri">DaqAOut</a>, <a href="DaqAInScan" class="uri">DaqAInScan</a>,<a href="DaqAOutScan" class="uri">DaqAOutScan</a>.</p>
<p>4/15/05 dgp Wrote it.<br />
1/21/07 asg changed normalization value from 2^16 to 2^15 to account for 16th bit as a sign bit (not data bit)<br />
and modified the “range” value help.<br />
6/17/07 mk Add proper sign handling for negative voltages.<br />
12/2x/07-1/x/08 mpr modified to work with USB-1608FS and changed some<br />
terminology; particularly did away with “sign” name<br />
conflict (“sign” is a Matlab function)<br />
6/07/13 mk Try to make it more robust: Retry on no-date received, proper<br />
error handling with error abort on error instead of silent<br />
failure returning <a href="NaN" class="uri">NaN</a>. Cleanup.</p>
<div class="code_header" style="text-align:right;">
<p><span style="float:left;">Path  </span> <span class="counter">Retrieve <a href=
  "https://raw.github.com/Psychtoolbox-3/Psychtoolbox-3/beta/Psychtoolbox/PsychHardware/Daq/DaqAIn.m">current version from GitHub</a> | View <a href=
  "https://github.com/Psychtoolbox-3/Psychtoolbox-3/commits/beta/Psychtoolbox/PsychHardware/Daq/DaqAIn.m">changelog</a></span></p>
</div>
<div class="code">
<p><code>Psychtoolbox/PsychHardware/Daq/DaqAIn.m</code></p>
</div>
