<h2 id="psychtoolbox-psychdemos">[[Psychtoolbox]] › [[PsychDemos]]</h2>
<p><a href="DrawMirroredTextDemo" class="uri">DrawMirroredTextDemo</a>([upsideDown=0])<br />
_______________________________________________________</p>
<p>Trivial example of drawing mirrored text. This demonstrates how to use<br />
low-level <a href="OpenGL" class="uri">OpenGL</a> API functions to apply geometric transformations to<br />
the drawn objects.</p>
<p>Will draw a text string, once in normal orientation, and once mirrored.<br />
The mirrored text is either mirrored left&lt;-&gt;right, or upside down if you<br />
set the optional ‘upsideDown’ flag to 1. At each key press, the text<br />
will be redrawn at an increasing size, until after a couple of redraws<br />
the demo will end.</p>
<p>The demo also draws a bounding box around the text string to demonstrate<br />
how you can find out about the bounds of a text string via<br />
<a href="Screen" class="uri">Screen</a>(‘TextBounds’).</p>
<p>The mirroring is implemented by first defining a geomtric transformation<br />
which will apply to all further drawn shapes and text strings. Then the<br />
text string is drawn via <a href="Screen" class="uri">Screen</a>(‘DrawText’) – thereby affected by the<br />
geometric transform. Then the transform is undone to “normal”.</p>
<p>How does this work?</p>
<ol type="1">
<li><p>The command <a href="Screen" class="uri">Screen</a>(‘glPushMatrix’); makes a “backup copy” of the<br />
current transformation state – the default way of drawing.</p></li>
<li><p>The command <a href="Screen" class="uri">Screen</a>(‘glTranslate’, w, xc, yc, 0); translates the<br />
origin of the coordinate system (which is normally located at the<br />
upper-left corner of the screen) into the geometric center of the<br />
location of the text string. We find the center xc,yc by retrieving the<br />
bounding box of the text string <a href="Screen" class="uri">Screen</a>(‘TextBounds’), then calculating<br />
the center of that box [xc, yc].</p></li>
<li><p>The <a href="Screen" class="uri">Screen</a>(‘glScale’, w, x, y, z); will scale all further drawn<br />
objects by a factor ‘x’ in x-direction (horizontal), ‘y’ in y-direction<br />
(vertical), ‘z’ in z-direction (depths). Scaling happen with respect to<br />
the current origin. As we just set the origin to be the center of the<br />
text string in step 2, the object will “scale” around that point. A<br />
value of -1 effectively switches the direction along the ‘x’ axis for a<br />
horizontal flip, or along the ‘y’ axis for an upside down vertical flip.<br />
Values with a magnitude other than 1 would scale the whole text up or<br />
down in size.</p></li>
<li><p>The command <a href="Screen" class="uri">Screen</a>(‘glTranslate’, w, -xc, -yc, 0); translates the<br />
origin of the coordinate system back to the upper-left corner of the<br />
screen. This to make sure that all coordinates provided later on are<br />
wrt. to the usual reference frame.</p></li>
</ol>
<p>Steps 2,3 and 4 are internally merged to one mathematical transformation:<br />
The flipping of all drawn shapes and objects around the screen position<br />
[xc,yc] – the center of the text string.</p>
<ol start="5" type="1">
<li><p>We <a href="Screen" class="uri">Screen</a>(‘DrawText’) the text string –&gt; The flipping applies.</p></li>
<li><p>We undo the whole transformation via <a href="Screen" class="uri">Screen</a>(‘glPopMatrix’) thereby<br />
restoring the original “do nothing” transformation from the backup copy<br />
which was created in step 1. All further drawing is therbey unaffected<br />
by the flipping, so we can draw the second copy of the text and the<br />
bounding box.</p></li>
</ol>
<p>Besides the scaling and translation transform for moving, rescaling and<br />
flipping drawn objects and shapes, there is also the <a href="Screen" class="uri">Screen</a>(‘glRotate’)<br />
transform to apply rotation around axis.</p>
<p>This transformations apply to any drawing command, not only text strings!<br />
_________________________________________________________________________</p>
<p>see also: <a href="PsychDemos" class="uri">PsychDemos</a></p>
<div class="code_header" style="text-align:right;">
<p><span style="float:left;">Path  </span> <span class="counter">Retrieve <a href=
  "https://raw.github.com/Psychtoolbox-3/Psychtoolbox-3/beta/Psychtoolbox/PsychDemos/DrawMirroredTextDemo.m">current version from GitHub</a> | View <a href=
  "https://github.com/Psychtoolbox-3/Psychtoolbox-3/commits/beta/Psychtoolbox/PsychDemos/DrawMirroredTextDemo.m">changelog</a></span></p>
</div>
<div class="code">
<p><code>Psychtoolbox/PsychDemos/DrawMirroredTextDemo.m</code></p>
</div>
