<h2 id="psychtoolbox-psychhardware-eyelinktoolbox-eyelinktests">[[Psychtoolbox]] › [[PsychHardware]] › [[EyelinkToolbox]] › [[EyelinkTests]]</h2>
<p>Routine to test timing of functions that sample eye position<br />
John Palmer, last revised 6/6/01</p>
<p>Most tests are of “getsample” function at the bottom of this program.<br />
It uses ‘newfloatsampleavailable’ and ‘newestfloatsample’.</p>
<p>To run this test program, do an initial calibration, then press ‘O’.<br />
View several fixation targets turning on and off.<br />
Output appears in MATLAB command window.<br />
As an option, one can disable the calibration and just measure timing.</p>
<p>Part 1: Measure time between sample events with three time bases:<br />
eyelink time stamp in sample (always 4 ms interval)<br />
getsecs time at time received (variable 1-6? ms)<br />
eyelink time stamp of message sent on receiving sample (also var 1-6? ms)<br />
(This last time base requires using EDFVIEW to read sample times by hand.)<br />
Conclusion: sampling at roughly 4 ms period but quite variable by getSecs.<br />
Hint to think about: variability is often identical from trial to trial.</p>
<p>Part 2: Measure elapsed time of key functions<br />
Of particular interest is the time from start recording to when the first<br />
sample is retrieved. This value puts an upper bound on the delay between<br />
recording the eye movement and getting realtime feedback. In my tests, this<br />
upper bound is 15-17 ms. Eyelink suggests the actual delay is about 10 ms.</p>
<p>Part 3: One can also inspect the EDF file and examine the time stamps.<br />
Of particular interest is the time from starting to the first recording.<br />
I observe a 15 ms delay from startblock to synctime.<br />
I also observed that the position of the first sample is within 2 ms or less<br />
the position of the eye at SYNCTIME.<br />
In addition, the first sample arrives less than 1 ms after SYNCTIME message.<br />
This suggests the lag between DOS record and sample at Mac and in<br />
transmitting the messages is not more than 1-2 ms.<br />
There still remains to measure the lag between eye and the DOS record</p>
<p>5/29/01 Begun based on shorteyelinkdemo and testcalib<br />
5/30/01 Added measurements of sample time interval<br />
5/31/01 many improvements<br />
6/1/01 updated documentation<br />
6/4/01 using alt version of initwindow in meyelinkinit2<br />
6/5/01 fwc changed to work with new toolbox version 1.1<br />
6/6/01 v3, jp: removed global “el”, moved initeyelinkdefine after initialize</p>
<div class="code_header" style="text-align:right;">
<p><span style="float:left;">Path  </span> <span class="counter">Retrieve <a href=
  "https://raw.github.com/Psychtoolbox-3/Psychtoolbox-3/beta/Psychtoolbox/PsychHardware/EyelinkToolbox/EyelinkTests/testsampletime.m">current version from GitHub</a> | View <a href=
  "https://github.com/Psychtoolbox-3/Psychtoolbox-3/commits/beta/Psychtoolbox/PsychHardware/EyelinkToolbox/EyelinkTests/testsampletime.m">changelog</a></span></p>
</div>
<div class="code">
<p><code>Psychtoolbox/PsychHardware/EyelinkToolbox/EyelinkTests/testsampletime.m</code></p>
</div>
