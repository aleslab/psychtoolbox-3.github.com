<h2 id="psychtoolbox-psychglimageprocessing">[[Psychtoolbox]] › [[PsychGLImageProcessing]]</h2>
<p>[blobid, blobrect] = <a href="CreateProceduralGaussBlob" class="uri">CreateProceduralGaussBlob</a>(windowPtr, width, height [, backgroundColorOffset =(0,0,0,0)][, disableNorm=0][, contrastPreMultiplicator=1])</p>
<p>Creates a procedural texture that allows to draw “Gaussian blob” stimulus<br />
patches in a very fast and efficient manner on modern graphics hardware.</p>
<p>This works on GPU’s with support for the <a href="OpenGL" class="uri">OpenGL</a> shading language and<br />
vertex- and fragment shaders. See <a href="ProceduralGarboriumDemo" class="uri">ProceduralGarboriumDemo</a> for examples<br />
on how to use this function.</p>
<h3 id="parameters-and-their-meaning">Parameters and their meaning:</h3>
<p>‘windowPtr’ A handle to the onscreen window.<br />
‘width’ x ‘height’ The maximum size (in pixels) of the blob. More<br />
precise, the size of the mathematical support of the blob. Providing too<br />
small values here would ‘cut off’ peripheral parts or your blob. Too big<br />
values don’t hurt wrt. correctness or accuracy, they just hurt<br />
performance, ie. drawing speed. Use a reasonable size for your purpose.</p>
<p>‘backgroundColorOffset’ Optional, defaults to [0 0 0 0]. A RGBA offset<br />
color to add to the final RGBA colors of the drawn blob, prior to<br />
drawing it.</p>
<p>‘disableNorm’ Optional, defaults to 0. If set to a value of 1, the<br />
special multiplicative normalization term normf = 1/(sqrt(2*pi) * sc)<br />
will not be applied to the computed blob. By default (setting 0), it<br />
will be applied. This term seems to be a reasonable normalization of the<br />
total amplitude of the blob, but it is not part of the standard<br />
definition of a blob. Therefore we allow to disable this normalization.</p>
<p>‘contrastPreMultiplicator’ Optional, defaults to 1. This value is<br />
multiplied as a scaling factor to the requested contrast value. If you<br />
set the ‘disableNorm’ parameter to 1 to disable the builtin normf<br />
normalization and then specify contrastPreMultiplicator = 0.5 then the<br />
per blob ‘contrast’ value will correspond to what practitioners of the<br />
field usually understand to be the contrast value of a blob.</p>
<p>The function returns a procedural texture handle ‘blobid’ that you can<br />
pass to the <a href="Screen" class="uri">Screen</a>(‘DrawTexture(s)’, windowPtr, blobid, …) functions<br />
like any other texture handle. The ‘blobrect’ is a rectangle which<br />
describes the size of the blob support.</p>
<h3 id="a-typical-invocation-to-draw-a-single-blob-patch-may-look-like-this">A typical invocation to draw a single blob patch may look like this:</h3>
<p><a href="Screen" class="uri">Screen</a>(‘DrawTexture’, windowPtr, blobid, [], dstRect, Angle, [], [],<br />
modulateColor, [], kPsychDontDoRotation, [contrast, sc, aspectratio, 0]);</p>
<p>Draws the blob ‘blobid’ into window ‘windowPtr’, at position ‘dstRect’,<br />
or in the center if ‘dstRect’ is set to []. Make sure ‘dstRect’ has the<br />
size of ‘blobrect’ to avoid spatial distortions! You could do, e.g.,<br />
dstRect = <a href="OffsetRect" class="uri">OffsetRect</a>(blobrect, xc, yc) to place the blob centered at<br />
screen position (xc,yc).</p>
<p>The definition of the blob mostly follows the definition of Wikipedia for a<br />
gabor patch, just that there isn’t a sin() term to define a grating. Instead<br />
there’s assumed to be a constant 1.0, so you only get the shape of the<br />
exponential function - a gaussian blob.</p>
<p>Wikipedia’s definition (better readable): http://en.wikipedia.org/wiki/Gabor_filter<br />
See http://tech.groups.yahoo.com/group/psychtoolbox/message/9174 for<br />
Psychtoolbox forum message 9174 with an in-depth discussion of this<br />
function.</p>
<p>‘Angle’ is the optional orientation angle in degrees (0-360), default is zero degrees.</p>
<p>‘modulateColor’ is the base color of the blob patch - it defaults to<br />
white, ie. the blob has only luminance, but no color. If you’d set it to<br />
[255 0 0] you’d get a reddish blob.</p>
<p>‘sc’ is the spatial constant of the gaussian hull function of the blob, ie.<br />
the “sigma” value in the exponential function.</p>
<p>‘contrast’ is the amplitude of your blob in intensity units - A factor<br />
that is multiplied to the evaluated blob equation before converting the<br />
value into a color value. ‘contrast’ may be a bit of a misleading term<br />
here…</p>
<p>‘aspectratio’ Defines the aspect ratio of the hull of the blob.</p>
<p>Make sure to use the <a href="Screen" class="uri">Screen</a>(‘DrawTextures’, …); function properly,<br />
instead of the <a href="Screen" class="uri">Screen</a>(‘DrawTexture’, …); function, if you want to draw<br />
many different blobs simultaneously - this is much faster!</p>
<div class="code_header" style="text-align:right;">
<p><span style="float:left;">Path  </span> <span class="counter">Retrieve <a href=
  "https://raw.github.com/Psychtoolbox-3/Psychtoolbox-3/beta/Psychtoolbox/PsychGLImageProcessing/CreateProceduralGaussBlob.m">current version from GitHub</a> | View <a href=
  "https://github.com/Psychtoolbox-3/Psychtoolbox-3/commits/beta/Psychtoolbox/PsychGLImageProcessing/CreateProceduralGaussBlob.m">changelog</a></span></p>
</div>
<div class="code">
<p><code>Psychtoolbox/PsychGLImageProcessing/CreateProceduralGaussBlob.m</code></p>
</div>
