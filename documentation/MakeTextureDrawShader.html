<h2 id="psychtoolbox-psychglimageprocessing">[[Psychtoolbox]] › [[PsychGLImageProcessing]]</h2>
<p>glsl = <a href="MakeTextureDrawShader" class="uri">MakeTextureDrawShader</a>(windowPtr, shadertype [, backgroundColorOffset = [0,0,0,0]]);</p>
<p>Create a special GLSL shader that can apply some special image processing<br />
operations that modify the normal drawing of textures via<br />
<a href="Screen" class="uri">Screen</a>(‘DrawTexture(s)’). Return a handle ‘glsl’ to the shader.</p>
<p>The created shader can be attached to specific textures via passing the<br />
returned ‘glsl’ argument as the optional ‘textureShader’ argument for the<br />
<a href="Screen" class="uri">Screen</a>(‘MakeTexture’, ….., textureShader); function. It can be also<br />
applied on a per-draw basis by passing the ‘glsl’ handle as optional<br />
‘textureShader’ argument to the <a href="Screen" class="uri">Screen</a>(‘DrawTexture(s)’, …); function.</p>
<h3 id="mandatory-arguments">Mandatory arguments:</h3>
<p>‘windowPtr’ A handle to the onscreen window to which the shader should be<br />
associated.</p>
<p>‘shadertype’ A name string that defines the type of shader / image<br />
processing operation to apply. It can be one of the following:</p>
<ul>
<li><p>‘SeparateAlphaChannel’: Alpha values are looked up at the regular<br />
locations defined via the ‘srcRect’ parameter in a <a href="Screen" class="uri">Screen</a>(‘DrawTexture’)<br />
call. RGB color values are looked up at srcRect, offset by some (dx,dy)<br />
offset, and (dx2,dy2) offset, as provided by the ‘auxParameters’ vector<br />
[dx, dy, dx2, dy2].<br />
Providing non-zero offset values for dx and dy allows to “shift” or<br />
“scroll” the RGB or Luminance image inside a texture during drawing,<br />
while keeping the alpha image at a fixed location, solely defined by<br />
‘srcRect’. This is mostly useful if you want to draw some drifting<br />
stimulus with a fixed alpha channel mask applied, ie., the color image<br />
should move, but the alpha mask should stay fixed. The (dx2,dy2) offsets<br />
allow to apply some offset before applying rotations, again only to the<br />
color channels, not the alpha channel.</p></li>
<li><p>‘PremultipliedAlphaChannel’: Like ‘SeparateAlphaChannel’, but the alpha<br />
value is not written to the framebuffer, but premultiplied to the RGB<br />
color pixel before writeout.</p></li>
</ul>
<p>‘backgroundColorOffset’ Optional, defaults to [0 0 0 0]. A RGBA offset<br />
color to add to the final RGBA colors of the drawn texture, prior to<br />
drawing it.</p>
<div class="code_header" style="text-align:right;">
<p><span style="float:left;">Path  </span> <span class="counter">Retrieve <a href=
  "https://raw.github.com/Psychtoolbox-3/Psychtoolbox-3/beta/Psychtoolbox/PsychGLImageProcessing/MakeTextureDrawShader.m">current version from GitHub</a> | View <a href=
  "https://github.com/Psychtoolbox-3/Psychtoolbox-3/commits/beta/Psychtoolbox/PsychGLImageProcessing/MakeTextureDrawShader.m">changelog</a></span></p>
</div>
<div class="code">
<p><code>Psychtoolbox/PsychGLImageProcessing/MakeTextureDrawShader.m</code></p>
</div>
