<h2 id="psychtoolbox-psychdocumentation">[[Psychtoolbox]] › [[PsychDocumentation]]</h2>
<p><a href="TouchInput" class="uri">TouchInput</a> - Psychtoolbox support for touch input devices.</p>
<p>Psychtoolbox currently supports touch input devices like<br />
touchscreens and touchpads on Linux with the classic X11<br />
X-Display system, ie. when running under a classic X-Server.</p>
<h3 id="the-way-you-use-such-devices-to-get-touch-input-is-as-follows">The way you use such devices to get touch input, is as follows:</h3>
<ol type="1">
<li><p>Find the device(s) to use for touch input via <a href="GetTouchDeviceIndices" class="uri">GetTouchDeviceIndices</a>().</p></li>
<li><p>Get basic information about a device of choice via <a href="GetTouchDeviceInfo" class="uri">GetTouchDeviceInfo</a>().</p></li>
<li><p>Create <a href="(TouchQueueCreate)()">(TouchQueueCreate</a> a touch input queue for the selected device.</p></li>
<li><p>Use <a href="TouchQueueStart" class="uri">TouchQueueStart</a>(), <a href="TouchQueueStop" class="uri">TouchQueueStop</a>() and <a href="TouchEventFlush" class="uri">TouchEventFlush</a>() to start,<br />
and stop data collection, or to discard all currently pending touch input.</p></li>
<li><p>Use <a href="TouchEventAvail" class="uri">TouchEventAvail</a>() to find the number of collected touch events, and<br />
<a href="TouchEventGet" class="uri">TouchEventGet</a>() to retrieve events. These events provide all the basic<br />
information of interest: The time when the event was received, the (x,y)<br />
touch coordinates in different useful coordinate systems, if it was a<br />
start of a new touch, the end of an old touch, or some state change on an<br />
existing touch, e.g., position, pressure, shape etc. Additional device<br />
and operating system specific info (non-portable!) can be retrieved via<br />
the helper function <a href="GetTouchValuators" class="uri">GetTouchValuators</a>().</p></li>
</ol>
<p>See the help for the functions mentioned above for more details. The demo<br />
<a href="MultiTouchDemo" class="uri">MultiTouchDemo</a>.m demonstrates most of this functionality.</p>
<p><a href="MultiTouchMinimalDemo" class="uri">MultiTouchMinimalDemo</a>.m shows a more basic demo of how to get the essentials.</p>
<p>You can measure the latency and timing accuracy with <a href="KeyboardLatencyTest" class="uri">KeyboardLatencyTest</a>(),<br />
selecting a modality setting of 10 and using a soundcard + microphone.<br />
The latency of touch screens varies greatly across vendors and models.<br />
For reference, the ELAN touchscreen built into the flat-panel of a tested<br />
<a href="RazerBlade" class="uri">RazerBlade</a> 2016 gaming laptop had a latency as low as 16 msecs for reporting<br />
touches, with a low standard deviation of 2 msecs, but the Synaptics TM2438-005<br />
touchpad in the same laptop had a latency of about 130 msecs [stddev ~4 msecs].</p>
<p>A tested Apple Magic touchpad fared at about 50 msecs, an Apple <a href="MacBookPro" class="uri">MacBookPro</a><br />
mouse touchpad at about 25 msecs with over 4 msecs standard deviation.</p>
<p>While touchscreens should just work as expected, touchpads are not designed<br />
for “touchscreen-like” touch input. If you want to get them to act as mini-<br />
touchscreens, you will have to disable use of the “synaptics” touchpad driver,<br />
e.g., by uninstalling the xf86-input-synaptics package, or by removing or<br />
editing or overriding the synaptics configuration file. This file can be<br />
found in the directory /usr/share/X11/xorg.conf.d/ on many systems. After<br />
modifying the system this way and logging out and logging in again, you<br />
should have a touchpad that no longer works for controlling a mouse pointer,<br />
but can work as a minimalistic touchscreen replacement. Alternatively read on<br />
for a way to override the default settings.</p>
<p>On systems which use the xserver-xorg-input-libinput driver for touch input, the<br />
amount of information provided about each touch point is somewhat limited, at least<br />
as of the state of Ubuntu 17.10. If you want maximally detailed information about<br />
touch input, you should instead install the xserver-xorg-input-evdev driver and then<br />
override the system default input configuration to use the evdev input driver<br />
for touchscreens. You can do this easily by copying the file …</p>
<p>Psychtoolbox/<a href="PsychHardware" class="uri">PsychHardware</a>/99-evdev-touchscreen.conf</p>
<p>… into the folder /etc/X11/xorg.conf.d/ and then logout and login again. This<br />
would activate evdev for maximum detail in touch input reporting, e.g., to provide<br />
info about the shape, size and orientation of a touch point, the type of touchpoint<br />
(finger, palm, some digitizer pen or tool), the distance of the tool from the touch<br />
surface, or the pressure exerted onto the touch surface by a tool or finger.</p>
<p>This sample configuration file also contains a commented out section that allows<br />
to disable the synaptics driver for touchpads and instead also use evdev for them,<br />
to allow their (ab)use as mini touchscreens, while disabling their regular touchpad<br />
functionality. All you’d have to do is comment that section in again, logout and<br />
login once.</p>
<div class="code_header" style="text-align:right;">
<p><span style="float:left;">Path  </span> <span class="counter">Retrieve <a href=
  "https://raw.github.com/Psychtoolbox-3/Psychtoolbox-3/beta/Psychtoolbox/PsychDocumentation/TouchInput.m">current version from GitHub</a> | View <a href=
  "https://github.com/Psychtoolbox-3/Psychtoolbox-3/commits/beta/Psychtoolbox/PsychDocumentation/TouchInput.m">changelog</a></span></p>
</div>
<div class="code">
<p><code>Psychtoolbox/PsychDocumentation/TouchInput.m</code></p>
</div>
