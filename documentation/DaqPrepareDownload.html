<h2 id="psychtoolbox-psychhardware-daq">[[Psychtoolbox]] › [[PsychHardware]] › [[Daq]]</h2>
<p>err=<a href="DaqPrepareDownload" class="uri">DaqPrepareDownload</a><a href="(DeviceIndex),%5B%5BProgramModeFlag%5D(ProgramModeFlag)%5D">(DeviceIndex</a><br />
USB-1208FS: Prepare for program memory download. This command puts the<br />
device into code update mode. The unlock code must be correct as a<br />
further safety device. Call this once before sending code with<br />
<a href="WriteCode" class="uri">WriteCode</a>. If not in code update mode, any <a href="WriteCode" class="uri">WriteCode</a> commands will be<br />
ignored. The USB-1208FS firmware manual does not state how long the “code<br />
update mode” state persists, or how it can be turned back off. However, the<br />
<a href="DaqGetStatus" class="uri">DaqGetStatus</a> command does report this state.<br />
“<a href="DeviceIndex" class="uri">DeviceIndex</a>” is a small integer, the array index specifying which HID<br />
device in the array returned by <a href="PsychHID" class="uri">PsychHID</a>(‘Devices’) is interface 0<br />
of the desired USB-1208FS box.<br />
See also <a href="DaqWriteCode" class="uri">DaqWriteCode</a>, Daq, <a href="DaqTest" class="uri">DaqTest</a>, <a href="PsychHIDTest" class="uri">PsychHIDTest</a>.</p>
<p>In my tests with a USB-1608FS, sending a report with anything other than the<br />
correct unlock code caused the device to exit program mode. So I modified<br />
this function to allow user to toggle between states. If no second argument is<br />
passed, function assumes user wants to put device into program mode; else if<br />
second argument is zero device will be taken (or left) out of program mode.</p>
<div class="code_header" style="text-align:right;">
<p><span style="float:left;">Path  </span> <span class="counter">Retrieve <a href=
  "https://raw.github.com/Psychtoolbox-3/Psychtoolbox-3/beta/Psychtoolbox/PsychHardware/Daq/DaqPrepareDownload.m">current version from GitHub</a> | View <a href=
  "https://github.com/Psychtoolbox-3/Psychtoolbox-3/commits/beta/Psychtoolbox/PsychHardware/Daq/DaqPrepareDownload.m">changelog</a></span></p>
</div>
<div class="code">
<p><code>Psychtoolbox/PsychHardware/Daq/DaqPrepareDownload.m</code></p>
</div>
