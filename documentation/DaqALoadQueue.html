<h2 id="psychtoolbox-psychhardware-daq">[[Psychtoolbox]] › [[PsychHardware]] › [[Daq]]</h2>
<p>err=<a href="DaqALoadQueue" class="uri">DaqALoadQueue</a><a href="(DeviceIndex),channel,range">(DeviceIndex</a><br />
USB-1208FS: Load the channel/gain queue. The USB-1208FS can scan an<br />
arbitrary sequence of analog input channels, each with an arbitrary gain<br />
setting. <a href="DaqALoadQueue" class="uri">DaqALoadQueue</a> allows you to specify that sequence.<br />
“<a href="DeviceIndex" class="uri">DeviceIndex</a>” is a small integer, the array index specifying which HID<br />
device in the array returned by <a href="PsychHID" class="uri">PsychHID</a>(‘Devices’) is interface 0<br />
of the desired USB-1208FS box.<br />
“channel” is a vector of length 1 to 8; each value (0 to 15) selects any of<br />
various single-ended or differential measurements.<br />
“channel” Measurement<br />
0 0-1 (differential)<br />
1 2-3 (differential)<br />
2 4-5 (differential)<br />
3 6-7 (differential)<br />
4 1-0 (differential)<br />
5 3-2 (differential)<br />
6 5-4 (differential)<br />
7 7-6 (differential)<br />
8 0 (single-ended)<br />
9 1 (single-ended)<br />
10 2 (single-ended)<br />
11 3 (single-ended)<br />
12 4 (single-ended)<br />
13 5 (single-ended)<br />
14 6 (single-ended)<br />
15 7 (single-ended)<br />
“range” is a vector of the same length, with values of 0 to 7, specifying<br />
the desired gain (and voltage range) for the corresponding channel…<br />
unless we’re talking channels greater than 7. Single-ended inputs always<br />
have a range of +/- 10 V, so if you try to set the range to anything other<br />
than zero for a single-ended measurement, your setting will be ignored.<br />
For differential measurements (channels 0:7), the mapping between the<br />
values passed to this function and the gain (and actual range) are:<br />
0 for 1x (+/-20 V), 1 for 2x (+/-10 V),<br />
2 for 4x (+/-5 V), 3 for 5x (+/-4 V),<br />
4 for 8x (+/-2.5 V), 5 for 10x (+/-2 V),<br />
6 for 16x (+/-1.25 V), 7 for 20x (+/-1 V).</p>
<p>USB-1608FS:<br />
“<a href="DeviceIndex" class="uri">DeviceIndex</a>” has the same meaning here as for the USB-1208FS.<br />
“channel” is a bit different…<br />
Only single ended inputs are defined for the 1608FS, so channels range<br />
only from 0 through 7. Also, when the gain queue is loaded, it is<br />
supposed to be loaded for all 8 channels – <a href="AInScan" class="uri">AInScan</a> does not allow you to<br />
use the gain queue as a way to determine which channels to check; you can<br />
*NOT* scan an arbitrary sequence of channels in a 1608 box like you can<br />
with a 1208 (and I believe 1408) box. There also appears to be no way to<br />
poll any of the device to find out the current state of the gain queue.<br />
All of this means choices have to be made. To keep this function as<br />
similar as possible for operations of both types of device, user is still<br />
allowed to pass an arbitrary set of channel/gain pairs (as long as there<br />
no repeats), and the function will do its best not to touch the gains of<br />
other channels. To be safe, you should always specify the gains for all<br />
8 channels, but I figure you will only read from the channels whose gains<br />
you explicitly set… Even though that behavior does not happen<br />
automatically through calls to this function as it may with the 1208FS.<br />
However, since we cannot poll the device to find out the current gain<br />
queue settings, we’re going to try to use a Preferences file. I suspect<br />
this will generally work, but if multiple accounts use the device or if<br />
the device is sometimes attached to a different machine, then this<br />
function may cause some gains to get changed even if not specified by the<br />
user. Did I mention that you should always specify the gains for all 8<br />
channels? Anyhoo…<br />
“range” has the same conceptual meaning for the 1608 as it does for the<br />
1208, but the numbers are different:</p>
<pre><code>0 for 1x (+/- 10 V),      1 for 2x (+/- 5 V),  
2 for 4x (+/- 2.5 V),     3 for 5x (+/- 2 V),  
4 for 8x (+/- 1.25 V),    5 for 10x (+/- 1 V),  
6 for 16x (+/- 0.625 V),  7 for 32x (+/- 0.3125 V).  </code></pre>
<p>See also Daq, <a href="DaqFunctions" class="uri">DaqFunctions</a>, <a href="DaqPins" class="uri">DaqPins</a>, <a href="DaqTest" class="uri">DaqTest</a>, <a href="PsychHidTest" class="uri">PsychHidTest</a>, <a href="DaqAIn" class="uri">DaqAIn</a>,<br />
<a href="DaqAInScan" class="uri">DaqAInScan</a>, <a href="DaqAInScanBegin" class="uri">DaqAInScanBegin</a>.</p>
<p>4/15/05 dgp Wrote it.<br />
1/8/08 mpr created behavior appropriate for 1608<br />
6/23/15 mk Make compatible with Octave, fix 1608-FS pref file caching.</p>
<div class="code_header" style="text-align:right;">
<p><span style="float:left;">Path  </span> <span class="counter">Retrieve <a href=
  "https://raw.github.com/Psychtoolbox-3/Psychtoolbox-3/beta/Psychtoolbox/PsychHardware/Daq/DaqALoadQueue.m">current version from GitHub</a> | View <a href=
  "https://github.com/Psychtoolbox-3/Psychtoolbox-3/commits/beta/Psychtoolbox/PsychHardware/Daq/DaqALoadQueue.m">changelog</a></span></p>
</div>
<div class="code">
<p><code>Psychtoolbox/PsychHardware/Daq/DaqALoadQueue.m</code></p>
</div>
