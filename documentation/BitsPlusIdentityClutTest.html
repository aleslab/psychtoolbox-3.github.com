<h2 id="psychtoolbox-psychhardware-bitsplustoolbox-bitsplustests">[[Psychtoolbox]] › [[PsychHardware]] › [[BitsPlusToolbox]] › [[BitsPlusTests]]</h2>
<p>Test signal transmission from the framebuffer to your CRS Bits+/Bits#<br />
device or <a href="VPixx" class="uri">VPixx</a> Inc. <a href="DataPixx" class="uri">DataPixx</a>/<a href="ViewPixx" class="uri">ViewPixx</a>/Propixx device and similar CRS and<br />
<a href="VPixx" class="uri">VPixx</a> products.</p>
<p>Test proper function of the T-Lock mechanism on CRS devices and PSYNC<br />
mechanism on <a href="VPixx" class="uri">VPixx</a> devices, as well as proper loading of identity gamma<br />
tables into the GPU, and for bad interference of dithering hardware<br />
with the DVI stream. This test is meant for Mono++ mode of Bits+/Bits# or<br />
M16 mode of <a href="DataPixx" class="uri">DataPixx</a>, <a href="ViewPixx" class="uri">ViewPixx</a>, <a href="ProPixx" class="uri">ProPixx</a>. It requires a modern graphics card<br />
which supports at least <a href="OpenGL" class="uri">OpenGL</a>-2.1 and therefore supports these modes.</p>
<p>If you only have older graphics hardware that can only drive Bits++ or<br />
L48 clut display mode, or you have an old CRS Bits+ device switched to<br />
Bits++ mode and don’t want the hassle of setting it to Mono++ mode then<br />
this test script can also perform a slightly more limited test in Bits++<br />
mode or L48 clut mode. Set the optional parameter ‘useclutmodeonly’ to 1<br />
to use this simpler test mode.</p>
<p>Disclaimer: This test only exists because of the huge number of serious &amp;<br />
embarassing bugs in the graphics drivers and operating systems from<br />
Microsoft, Apple, AMD and <a href="NVidia" class="uri">NVidia</a>. All problems diagnosed here are neither<br />
defects in the Bits+ device or similar devices, nor Psychtoolbox bugs. As<br />
such, sadly they are mostly out of our control and there is only a<br />
limited number of ways we can try to help you to workaround the problems<br />
caused by miserable workmanship and insufficient quality control at those<br />
big companies.</p>
<h3 id="usage">Usage:</h3>
<p><a href="BitsPlusIdentityClutTest" class="uri">BitsPlusIdentityClutTest</a>([whichScreen=max][, usedpixx=0][, winrect=[]][, useclutmodeonly=0]);</p>
<h3 id="how-to-test">How to test:</h3>
<ol type="1">
<li><p>Make sure your Bits+ box is switched to Mono++ mode by uploading the<br />
proper firmware. Or make sure your <a href="DataPixx" class="uri">DataPixx</a>/<a href="ViewPixx" class="uri">ViewPixx</a>/<a href="ProPixx" class="uri">ProPixx</a> or CRS<br />
Bits# is connected, both DVI cable and USB cable. Alternatively set<br />
‘useclutmodeonly’ to 1 to test in Bits++ mode on a CRS device or L48<br />
mode on a <a href="VPixx" class="uri">VPixx</a> device. In useclutmodeonly = 1 case, skip to step 3.</p></li>
<li><p>Run the <a href="BitsPlusImagingPipelineTest" class="uri">BitsPlusImagingPipelineTest</a> script to validate that your<br />
graphics card can create properly formatted images in the framebuffer<br />
for Bits+/Bits# or <a href="DataPixx" class="uri">DataPixx</a>/<a href="ViewPixx" class="uri">ViewPixx</a>/<a href="ProPixx" class="uri">ProPixx</a>.</p></li>
<li><p>Run this script, optionally passing a screenid. It will test the<br />
secondary display on a multi-display setup by default, or the external<br />
display on a laptop. For a <a href="DataPixx" class="uri">DataPixx</a> device or similar, set the<br />
optional ‘usedpixx’ flag to 1. Set ‘useclutmodeonly’ flag to 1 if you<br />
want to test in Bits++ or L48 mode instead of Mono++ or M16 mode.</p></li>
</ol>
<p>If everything works, what you see onscreen should match the description<br />
in the blue text that is displayed.</p>
<p>If a wrong gamma lut is uploaded into your GPU due to operating system<br />
and graphics driver bugs, you can try to toggle through different<br />
alternative lut’s by repeatedly pressing the SPACE key and seeing if the<br />
display changes for the better. Should you find a setting that works, you<br />
can press the ‘s’ key to save this configuration and Psychtoolbox will<br />
use this setting in all future sessions of your experiment scripts.</p>
<p>You can exit the test by pressing the <a href="ESCape" class="uri">ESCape</a> key, regardless if it was<br />
successfull or not. The test will then ask you if you rate the results<br />
as success or failure and use your feedback for further operation.</p>
<p>What could also happen is that you get a partial success: The display<br />
behaves roughly as described in the text, but you see the T-Lock color<br />
code line at the top of your display erratically appearing and<br />
disappearing - flickering. You also don’t see a smooth animation of the<br />
drifting horizontal red gradient or a regular cycling of the “COLORFUL”<br />
words, but some jerky, irregular, jumpy animation, which may only update<br />
a few times per second, or even only once every couple seconds or at very<br />
irregular intervals. You may also see the display overlayed with random<br />
colorful speckles, or you may not see the gray background image and gray<br />
rotating gradient patch at all. In that case, the lut uploaded in your<br />
GPU may be correct, but due to some serious graphics driver or operating<br />
system bug, the GPU is applying spatial or temporal dithering to the<br />
video stream which will confuse your display device and cause random<br />
artifacts and failure of the T-Lock or PSYNC mechanism, as well as display<br />
of wrong or inaccurate color or luminance values!</p>
<p>You should also double-check the cabling and connections to rule out<br />
connection problems and other defects.</p>
<div class="code_header" style="text-align:right;">
<p><span style="float:left;">Path  </span> <span class="counter">Retrieve <a href=
  "https://raw.github.com/Psychtoolbox-3/Psychtoolbox-3/beta/Psychtoolbox/PsychHardware/BitsPlusToolbox/BitsPlusTests/BitsPlusIdentityClutTest.m">current version from GitHub</a> | View <a href=
  "https://github.com/Psychtoolbox-3/Psychtoolbox-3/commits/beta/Psychtoolbox/PsychHardware/BitsPlusToolbox/BitsPlusTests/BitsPlusIdentityClutTest.m">changelog</a></span></p>
</div>
<div class="code">
<p><code>Psychtoolbox/PsychHardware/BitsPlusToolbox/BitsPlusTests/BitsPlusIdentityClutTest.m</code></p>
</div>
