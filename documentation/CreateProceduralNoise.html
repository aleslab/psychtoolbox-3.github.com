<h2 id="psychtoolbox-psychglimageprocessing">[[Psychtoolbox]] › [[PsychGLImageProcessing]]</h2>
<p>[noiseid, noiserect] = <a href="CreateProceduralNoise" class="uri">CreateProceduralNoise</a>(windowPtr, width, height [, noiseType=‘ClassicPerlin’][, backgroundColorOffset =(0,0,0,0)][, param1][, param2, …])</p>
<p>Creates a procedural texture that allows to draw random noise stimulus patches<br />
in a very fast and efficient manner on modern graphics hardware.</p>
<p>This works on GPU’s with support for the <a href="OpenGL" class="uri">OpenGL</a> shading language and<br />
vertex- and fragment shaders. See <a href="ProceduralNoiseDemo" class="uri">ProceduralNoiseDemo</a> for examples on how to use this function.</p>
<h3 id="parameters-and-their-meaning">Parameters and their meaning:</h3>
<p>‘windowPtr’ A handle to the onscreen window.</p>
<p>‘width’ x ‘height’ The maximum 2D size (in pixels) of the noise patch.</p>
<p>‘noiseType’ Name of the noise function to use, defaults to ‘ClassicPerlin’.<br />
The following types of noise are currently supported:</p>
<ul>
<li><p>‘Perlin’: Generates Perlin noise, which is approximately gaussian<br />
distributed.</p></li>
<li><p>‘ClassicPerlin’: Like Perlin, but with the classic implementation.</p></li>
</ul>
<p>‘backgroundColorOffset’ Optional, defaults to [0 0 0 0]. A RGBA offset<br />
color to add to the final RGBA colors of the drawn gabor, prior to<br />
drawing it.</p>
<p>‘param1’ … ‘paramN’ - Parameters specific to the noise function.</p>
<p>The function returns a procedural texture handle ‘noiseid’ that you can<br />
pass to the <a href="Screen" class="uri">Screen</a>(‘DrawTexture(s)’, windowPtr, noiseid, …) functions<br />
like any other texture handle. The ‘noiserect’ is a rectangle which<br />
describes the size of the noise texture support.</p>
<h3 id="a-typical-invocation-to-draw-a-single-noise-patch-may-look-like-this">A typical invocation to draw a single noise patch may look like this:</h3>
<p><a href="Screen" class="uri">Screen</a>(‘DrawTexture’, windowPtr, noiseid, [], dstRect, [], [], [],<br />
modulateColor, [], [], [contrast, seed, 0, 0]);</p>
<p>Draws the patch ‘noiseid’ into window ‘windowPtr’, at position ‘dstRect’,<br />
or in the center if ‘dstRect’ is set to []. Make sure ‘dstRect’ has the<br />
size of ‘noiserect’ to avoid spatial distortions! You could do, e.g.,<br />
dstRect = <a href="OffsetRect" class="uri">OffsetRect</a>(noiserect, xc, yc) to place the patch centered at<br />
screen position (xc,yc).</p>
<p>‘modulateColor’ is the base color of the noise patch - it defaults to<br />
white, ie. the noise has only luminance, but no color. If you’d set it to<br />
[255 0 0] you’d get a reddish noise.</p>
<p>‘contrast’ is the amplitude of your patch in intensity units - A factor<br />
that is multiplied to the random number before converting the<br />
value into a color value. ‘contrast’ may be a bit of a misleading term<br />
here…</p>
<p>‘seed’ Defines the random seed for drawing of a pseudo-random patch.</p>
<p>Make sure to use the <a href="Screen" class="uri">Screen</a>(‘DrawTextures’, …); function properly,<br />
instead of the <a href="Screen" class="uri">Screen</a>(‘DrawTexture’, …); function, if you want to draw<br />
many different patches simultaneously - this is much faster!</p>
<div class="code_header" style="text-align:right;">
<p><span style="float:left;">Path  </span> <span class="counter">Retrieve <a href=
  "https://raw.github.com/Psychtoolbox-3/Psychtoolbox-3/beta/Psychtoolbox/PsychGLImageProcessing/CreateProceduralNoise.m">current version from GitHub</a> | View <a href=
  "https://github.com/Psychtoolbox-3/Psychtoolbox-3/commits/beta/Psychtoolbox/PsychGLImageProcessing/CreateProceduralNoise.m">changelog</a></span></p>
</div>
<div class="code">
<p><code>Psychtoolbox/PsychGLImageProcessing/CreateProceduralNoise.m</code></p>
</div>
