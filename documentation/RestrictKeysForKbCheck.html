<h2 id="psychtoolbox-psychbasic">[[Psychtoolbox]] › [[PsychBasic]]</h2>
<p>Restrict operation of <a href="KbCheck" class="uri">KbCheck</a> et al. to a subset of keys on the keyboard.</p>
<p>oldenablekeys = <a href="RestrictKeysForKbCheck" class="uri">RestrictKeysForKbCheck</a>([enablekeys])</p>
<p>Specify a vector of keycodes for keys which should be<br />
checked/used by <a href="KbCheck" class="uri">KbCheck</a> and <a href="KbWait" class="uri">KbWait</a>. This is useful to<br />
only enable specific keys, e.g., to save time. The function<br />
returns the old set of enabled keys.</p>
<p>Example: To enable the keys with keycodes 4, 6 and 7, do<br />
<a href="RestrictKeysForKbCheck" class="uri">RestrictKeysForKbCheck</a>([4, 6, 7]);</p>
<p>Calling <a href="RestrictKeysForKbCheck" class="uri">RestrictKeysForKbCheck</a>([]); ie., with an empty vector, will<br />
reenable all keys.</p>
<p>Caution: This setting is reset to “empty” during a “clear all” command,<br />
ie., all keys will be enabled again after a “clear all”!</p>
<h3 id="background-info">Background info:</h3>
<p>Some users of Laptops experienced the problem of “stuck keys”: Some keys<br />
are always reported as “down”, so <a href="KbWait" class="uri">KbWait</a> returns immediately and <a href="KbCheck" class="uri">KbCheck</a><br />
always reports keyIsDown == 1. This is often due to special function keys.<br />
These keys or system functionality are assigned vendor specific<br />
key codes, e.g., the status of the Laptop lid (opened/closed) could be<br />
reported by some special keycode. Whenever the Laptop lid is open, this key<br />
will be reported as pressed. You can work around this problem by passing<br />
a subset of keycodes to be used by <a href="KbCheck" class="uri">KbCheck</a> and <a href="KbWait" class="uri">KbWait</a>, whereas all other<br />
unwanted keys are ignored.</p>
<p>Another advantage is a significant speed gain for <a href="KbCheck" class="uri">KbCheck</a> et al. on<br />
<a href="MacOS" class="uri">MacOS</a>/X systems, where the execution time of <a href="KbChecks" class="uri">KbChecks</a> is proportional to<br />
the number of keys to check.<br />
_________________________________________________________________________</p>
<p>See also: <a href="FlushEvents" class="uri">FlushEvents</a>, <a href="KbName" class="uri">KbName</a>, <a href="KbDemo" class="uri">KbDemo</a>, <a href="KbWait" class="uri">KbWait</a>, <a href="KbCheck" class="uri">KbCheck</a>, <a href="GetChar" class="uri">GetChar</a>, <a href="CharAvail" class="uri">CharAvail</a>.</p>
<div class="code_header" style="text-align:right;">
<p><span style="float:left;">Path  </span> <span class="counter">Retrieve <a href=
  "https://raw.github.com/Psychtoolbox-3/Psychtoolbox-3/beta/Psychtoolbox/PsychBasic/RestrictKeysForKbCheck.m">current version from GitHub</a> | View <a href=
  "https://github.com/Psychtoolbox-3/Psychtoolbox-3/commits/beta/Psychtoolbox/PsychBasic/RestrictKeysForKbCheck.m">changelog</a></span></p>
</div>
<div class="code">
<p><code>Psychtoolbox/PsychBasic/RestrictKeysForKbCheck.m</code></p>
</div>
