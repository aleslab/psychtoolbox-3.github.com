<h1 id="screendrawtexture"><a href="Screen-DrawTexture">Screen(‘DrawTexture’)</a></h1>
<h2 id="psychtoolbox-screen.mexdll-subfunction">[[Psychtoolbox]] › [[Screen]].{mex*,dll} subfunction</h2>
<p>Draw the texture specified via ‘texturePointer’ into the target window specified<br />
via ‘windowPointer’. In the the OS X Psychtoolbox textures replace offscreen<br />
windows for fast drawing of images during animation.’sourceRect’ specifies a<br />
rectangular subpart of the texture to be drawn (Defaults to full texture).<br />
‘destinationRect’ defines the rectangular subpart of the window where the<br />
texture should be drawn. This defaultsto centered on the screen. ‘rotationAngle’<br />
Specifies a rotation angle in degree for rotated drawing of the texture<br />
(Defaults to 0 deg. = upright). ‘filterMode’ How to compute the pixel color<br />
values when the texture is drawn magnified, minified or drawn shifted, e.g., if<br />
sourceRect and destinationRect do not have the same size or if sourceRect<br />
specifies fractional pixel values. 0 = Nearest neighbour filtering, 1 = Bilinear<br />
filtering - this is the default. Values 2 or 3 select use of <a href="OpenGL" class="uri">OpenGL</a> mip-mapping<br />
for improved quality: 2 = Bilinear filtering for nearest mipmap level, 3 =<br />
Trilinear filtering across mipmap levels, 4 = Nearest neighbour filtering for<br />
nearest mipmap level, 5 = nearest neighbour filtering with linear interpolation<br />
between mipmap levels. Mipmap filtering is only supported for GL_TEXTURE_2D<br />
textures (see description of ‘specialFlags’ flag 1 below). A negative filterMode<br />
value will also use mip-mapping for fast drawing of blurred textures if the<br />
GL_TEXTURE_2D format is used: Mip-maps are essentially image resolution<br />
pyramids, the filterMode value selects a specific layer in that pyramid. A value<br />
of -1 draws the highest resolution layer, a value of -2 draws a half-resolution<br />
layer, a value of -3 draws a quarter resolution layer and so on. Each layer has<br />
half the resolution of the preceeding layer. This allows for very fast drawing<br />
of blurred or low-pass filtered images, e.g., for gaze-contingent displays.<br />
However, the filter function for downsampling is system dependent and may vary<br />
across graphics cards, although a box-filter is the most common type. If you<br />
need a well defined filter function, use a custom written GLSL shader instead,<br />
so you have full control over the mathematical properties of the downsampling<br />
function. This would incur a performance penalty.<br />
‘globalAlpha’ A global alpha transparency value to apply to the whole texture<br />
for blending. Range is 0 = fully transparent to 1 = fully opaque, defaults to<br />
one. If both, an alpha-channel and globalAlpha are provided, then the final<br />
alpha is the product of both values. ‘modulateColor’, if provided, overrides the<br />
‘globalAlpha’ value. If ‘modulateColor’ is specified, the ‘globalAlpha’ value<br />
will be ignored. ‘modulateColor’ will be a global color that gets applied to the<br />
texture as a whole, i.e., it modulates each color channel. E.g., modulateColor =<br />
[128 255 0] would leave the green- and alpha-channel untouched, but it would<br />
multiply the blue channel with 0 - set it to zero blue intensity, and it would<br />
multiply each texel in the red channel by 128/255 - reduce its intensity to 50%.<br />
The most interesting application of ‘modulateColor’ is drawing of arbitrary<br />
complex shapes of selectable color: Simply generate an all-white luminance<br />
texture of arbitrary shape, possibly with alpha channel, then draw it with<br />
‘modulateColor’ set to the wanted color and global alpha value.<br />
‘textureShader’ (optional): If you provide a valid handle of a GLSL shader, this<br />
shader will be applied to the texture during drawing. If the texture already has<br />
a shader assigned (via <a href="Screen" class="uri">Screen</a>(‘MakeTexture’) or automatically by PTB for some<br />
reason), then the shader provided here as ‘textureShader’ will silently override<br />
the shader assigned earlier. Application of shaders this way is mostly useful<br />
for application of simple single-pass image processing operations to a texture,<br />
e.g., a simple blur or a deinterlacing operation for a video texture. If you<br />
intend to use this texture multiple times or if you need more complex image<br />
processing, e.g., multi-pass operations, better use the<br />
<a href="Screen" class="uri">Screen</a>(‘TransformTexture’) command. It allows for complex operations to be<br />
applied and is more flexible.<br />
‘specialFlags’ optional argument: Allows to pass a couple of special flags to<br />
influence the drawing. The flags can be combined by mor() ing them together. A<br />
value of kPsychUseTextureMatrixForRotation will use a different mode of<br />
operation for drawing of rotated textures, where the drawn ‘dstRect’ texture<br />
rectangle is always upright, but texels are retrieved at rotated positions, as<br />
if the ‘srcRect’ rectangle would be rotated. If you set a value of<br />
kPsychDontDoRotation then the rotation angle will not be used to rotate the<br />
texture. Instead it will be passed to a bount texture shader (if any), which is<br />
free to interpret the ‘rotationAngle’ parameters is it wants - e.g., to<br />
implement custom texture rotation.</p>
<p>‘auxParameters’ optional argument: If this is set as a vector with at least 4<br />
components, and a multiple of four components, then these values are passed to a<br />
shader (if any is bound) as ‘auxParameter0….n’. The current implementation<br />
supports at most 32 values per draw call. This is mostly useful when drawing<br />
procedural textures if one needs to pass more additional parameters to define<br />
the texture than can fit into other parameter fields. See ‘help<br />
ProceduralShadingAPI’ for more info.</p>
<p>If you want to draw many textures to the same onscreen- or offscreen window, use<br />
the function <a href="Screen" class="uri">Screen</a>(‘DrawTextures’). It accepts the same arguments as this<br />
function, but is optimized to draw many textures in one call.</p>
<p>&lt;&lt;=====See also:===== MakeTexture DrawTexture DrawTextures &lt;&lt;</p>
