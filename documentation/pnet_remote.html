<h2 id="psychtoolbox-psychhardware-iviewxtoolbox-tcp_udp_ip">[[Psychtoolbox]] › [[PsychHardware]] › [[iViewXToolbox]] › [[tcp_udp_ip]]</h2>
<p>PNET_REMOTE - Evaluation of matlab expression in remote host PNET</p>
<pre><code>Version: First includes in the tcp/udp/ip toolbox 2002-02-13  
         (C) 2002 Peter Rydesaeter, GNU Public License   

This function uses PNET for nonblocking remote controll of other matlab   
session on this or other hosts. This function implements different client  
and server calls in same function. By setting the server matlab session  
in server mode with &quot;PNET\_REMOTE SERVER ...&quot; its possible to connect to  
it from other hosts and matlab sessions with &quot;PNET\_REMOTE con EVAL ...&quot;  
or exchange data with PUT or GET options. This remote controll package  
uses its own (non standard) protocol over a TCP/IP connection.  

Optional parameters are enclosed in [ ] in follwing syntax description.  </code></pre>
<h3 id="syntax">SYNTAX:</h3>
<p>=======</p>
<p>pnet_remote(‘server’,[ port ])</p>
<pre><code>Starts to listen on specified port (is by default 5678) for a connection  
and starts to serv for EVAL, PUT, GET... commands sent from remotehost.  
It listens for a connection, servers it until it closes and then starts  
to listens for a new connection to serv.  </code></pre>
<p>pnet_remote(con,‘serverat’)</p>
<pre><code>Like the last but it starts to serv on an already estabished connection  
until it is closed by the remote host. CON needs to be closed afterwards.  </code></pre>
<p>con=pnet_remote(‘connect’,[‘host’,[ port ] ])</p>
<pre><code>Connects and returns a connection handler to a &quot;PNET\_REMOTE SERVER&quot;  
at specified HOST and PORT. Default value for host is &#39;localhost&#39; and  
for port 5678. A connection an also be established with  
PNET(&#39;TCPCONNECT&#39;,...).   </code></pre>
<p>pnet_remote(con,‘close’)</p>
<pre><code>Sends a close command to remote host and closes the connection.  
PNET(con,&#39;CLOSE&#39;)  should also work even if it is not sending the close  
command.  </code></pre>
<p>pnet_remote(con,‘close’)</p>
<pre><code>Exactly the same as PNET(&#39;CLOSEALL&#39;)  </code></pre>
<p>pnet_remote(con,‘eval’,‘expression’)</p>
<pre><code>Non blocking evaluation of expression on remote host. The expression is  
evaluated in callers namespace. The expression is a regular matlab  
expression evaualted with EVALIN. This command is NONBLOCKING and  
status of the evaluation can be detected with PNET\_REMOTE(con,&#39;STATUS&#39;)  </code></pre>
<p>stat=pnet_remote(con,‘status’)</p>
<pre><code>Returns evaluation status of a remote host/session. The returned value  
is a string containing &#39;busy&#39; &#39;error&#39;  or &#39;ready&#39;  depending on status  
of evaluation. during evaluation &#39;busy&#39; is returned, then &#39;error&#39; or  
&#39;ready&#39; is returened depending on if EVALIN succeded.  </code></pre>
<p>pnet_remote(con,‘PUT’,‘name1’,expr1, ‘name2’,expr2…..)</p>
<pre><code>Uploads variables to remote hosts evaulation workspace. Its specified  
as a list of pairs of &#39;NAME&#39; and EXPR where &#39;NAME&#39; is the new name  
of the uploaded variable in the remote workspace and EXPR is a local  
variabel or expression.  </code></pre>
<p>[var1,var2,…]=pnet_remote(con,‘GET’,‘name1’,‘name2’….)</p>
<pre><code>Gets specified variables from remote workspace. Actually can &#39;name..&#39;  
be any expression that is remote evaluated \_but\_ this command blocks  
until the result of the remotely evaluted expression/variable is    
recived.  </code></pre>
<p>pnet_remote(con,‘PUTSCRIPT’,‘scriptname1’,‘scriptname2’,….)</p>
<pre><code>Uploads local scripts to the remote host. The scripts are put on the   
remote hosts search path in a directory named PNET\_PUTSCRIPTS.  
&#39;scriptname...&#39; is the name used at calls. WHICH is used to detect  
full path and extention of the script. If the remote hosts platform/OS is  
different then the full extention on MEX files must be specified.  </code></pre>
<p>pnet_remote(con,‘BREAK’)</p>
<pre><code>Sends a break comand to the script running on the remote host. This break  
comand can only be detected if the remote host repeatedly calls  
PNET\_REMOTE(&#39;GET\_BREAK&#39;)  which will cause an error in the remote script.  </code></pre>
<p>pnet_remote(‘GET_BREAK’)</p>
<pre><code>Used to be repeatedly called in scripts on the remote host. On a recived  
BREAK or disconected connection an error will be generated that break  
the running script.  </code></pre>
<h3 id="general-alternative-syntaxes">General alternative syntax(es):</h3>
<pre><code>  pnet\_remote server port  

This is the same as the functional form PNET\_REMOTE(&#39;SERVER&#39;,port)   
Numbers like connection handlers and port-numbers can be specified  
as strings in most cases. This syntax should generaly work for all  
 variants of calls.  

  con\_array=[con1 con2 con3 .....]  
  pnet\_remote(con\_array,.........)  

You can specify the conection handler as an array of connections and  
same operation will be performed for all connections.  
This syntax should generaly work for all variants of calls \_IF\_ they    
do not return anything.  </code></pre>
<div class="code_header" style="text-align:right;">
<p><span style="float:left;">Path  </span> <span class="counter">Retrieve <a href=
  "https://raw.github.com/Psychtoolbox-3/Psychtoolbox-3/beta/Psychtoolbox/PsychHardware/iViewXToolbox/tcp_udp_ip/pnet_remote.m">current version from GitHub</a> | View <a href=
  "https://github.com/Psychtoolbox-3/Psychtoolbox-3/commits/beta/Psychtoolbox/PsychHardware/iViewXToolbox/tcp_udp_ip/pnet_remote.m">changelog</a></span></p>
</div>
<div class="code">
<p><code>Psychtoolbox/PsychHardware/iViewXToolbox/tcp_udp_ip/pnet_remote.m</code></p>
</div>
