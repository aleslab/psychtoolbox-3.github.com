<h2 id="psychtoolbox-psychopengl-mogl-core">[[Psychtoolbox]] › [[PsychOpenGL]] › [[MOGL]] › [[core]]</h2>
<p><a href="InitializeMatlabOpenGL" class="uri">InitializeMatlabOpenGL</a>([opengl_c_style] [, debuglevel] [, noswitchto3D] [, specialFlags=0])</p>
<p><a href="InitializeMatlabOpenGL" class="uri">InitializeMatlabOpenGL</a> – Initialize the <a href="OpenGL" class="uri">OpenGL</a> for Matlab wrapper ‘mogl’.</p>
<p>Call this function at the beginning of your experiment script before<br />
calling *any* Psychtoolbox <a href="Screen" class="uri">Screen</a>() command, if you intend to use low-level<br />
<a href="OpenGL" class="uri">OpenGL</a> drawing commands in your script as provided by Richard Murrays<br />
moglcore extension.</p>
<p>This will check if mogl is properly installed and upload all required<br />
<a href="OpenGL" class="uri">OpenGL</a> constants into your Matlab workspace. It will also set up<br />
Psychtoolbox for interfacing with external <a href="OpenGL" class="uri">OpenGL</a> code.</p>
<p>There is also a special query mode: If you set the first argument<br />
‘opengl_c_style’ to the special value -1, then this call will do nothing<br />
than return the old ‘debuglevel’, cached from a previous call to this<br />
routine.</p>
<p>Options:<br />
opengl_c_style = 0 / 1:<br />
If you call <a href="InitializeMatlabOpenGL" class="uri">InitializeMatlabOpenGL</a> or <a href="InitializeMatlabOpenGL" class="uri">InitializeMatlabOpenGL</a>(0), all<br />
constants will be loaded in structs in order to avoid cluttering the<br />
Matlab workspace too much. You’ll have to replace all GL_xxx calls by<br />
GL.xxx calls, e.g., GL_LIGHTING becomes GL.LIGHTING .<br />
If you call <a href="InitializeMatlabOpenGL" class="uri">InitializeMatlabOpenGL</a>(1), then all constants will additionally<br />
be provided in standard C-Style syntax, aka GL_LIGHTING.</p>
<p>debuglevel = 0 to 3: Setting debuglevel == 0 will disable debug-output.<br />
A level of 1 will cause MOGL to output error messages and abort your<br />
scripts execution if it detects any <a href="OpenGL" class="uri">OpenGL</a> error. A level of 2 provides<br />
additional information that may help you to optimize your code. level 3<br />
means to be very verbose.</p>
<p>noswitchto3D: Setting this optional parameter to 1 will only load the GL<br />
constants and moglcore, but it won’t switch PTB itself into 3D mode. This<br />
is useful if your code needs access to <a href="OpenGL" class="uri">OpenGL</a> for some configuration work<br />
but doesn’t intend to do real 3D rendering. Mostly called from PTB<br />
internal helper functions, e.g., imaging pipeline. Defaults to zero, aka<br />
“switch to real 3D mode”.</p>
<p>specialFlags = 0: Setting this optional parameter will enable some<br />
special properties of the created <a href="OpenGL" class="uri">OpenGL</a> context. You can add the<br />
following values to setup such a special configuration:</p>
<ul>
<li>2 == Enable and attach an <a href="OpenGL" class="uri">OpenGL</a> accumulation buffer, with<br />
requested 16 bits resolution per color component, i.e., R16G16B16A16.<br />
The system may decide to allocate an accumulation buffer with more or<br />
less than the preferred 16 bpc, or it may decide not to allocate an<br />
accumulation buffer at all. On most graphics cards the accumulation<br />
buffer is implemented in software - using it may drastically reduce<br />
graphics performance down to redraw rates of only a few frames per<br />
second! There are better methods based on clever use of alpha blending<br />
and floating point resolution offscreen windows on modern graphics<br />
cards, or by direct low-level use of framebuffer objects.</li>
</ul>
<p>-&gt; This flag is needed to make the glAccum() command work.</p>
<ul>
<li>4 == Request an <a href="OpenGL" class="uri">OpenGL</a> core profile context of version 3.1 or later.<br />
This is highly experimental and not thoroughly tested or guaranteed to<br />
work properly. Obviously your rendering code would need to avoid any kind<br />
of legacy <a href="OpenGL" class="uri">OpenGL</a> 1/2 features which are deprecated/removed from <a href="OpenGL" class="uri">OpenGL</a> 3.1+,<br />
or you will hit all kind of <a href="OpenGL" class="uri">OpenGL</a> error conditions.</li>
</ul>
<p>The initial OS/X <a href="PowerPC" class="uri">PowerPC</a> version of the ‘OpenGL for Matlab’ low level<br />
interface wrapper mogl was developed, implemented and generously<br />
contributed to Psychtoolbox under the GPL license by Prof. Richard F.<br />
Murray, University of York, Canada. Porting to other operating systems<br />
and architectures, <a href="OpenGL" class="uri">OpenGL</a> 2.x support, and further extensions and<br />
maintenance has been done by Mario Kleiner.</p>
<p>The code has been relicensed by Richard Murray and Mario Kleiner to the<br />
more permissive MIT license since 2011.</p>
<div class="code_header" style="text-align:right;">
<p><span style="float:left;">Path  </span> <span class="counter">Retrieve <a href=
  "https://raw.github.com/Psychtoolbox-3/Psychtoolbox-3/beta/Psychtoolbox/PsychOpenGL/MOGL/core/InitializeMatlabOpenGL.m">current version from GitHub</a> | View <a href=
  "https://github.com/Psychtoolbox-3/Psychtoolbox-3/commits/beta/Psychtoolbox/PsychOpenGL/MOGL/core/InitializeMatlabOpenGL.m">changelog</a></span></p>
</div>
<div class="code">
<p><code>Psychtoolbox/PsychOpenGL/MOGL/core/InitializeMatlabOpenGL.m</code></p>
</div>
