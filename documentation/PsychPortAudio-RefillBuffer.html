<h1 id="psychportaudiorefillbuffer"><a href="PsychPortAudio-RefillBuffer">PsychPortAudio(‘RefillBuffer’)</a></h1>
<h2 id="psychtoolbox-psychportaudio.mexdll-subfunction">[[Psychtoolbox]] › [[PsychPortAudio]].{mex*,dll} subfunction</h2>
<p>Refill part of an audio data playback buffer of a <a href="PortAudio" class="uri">PortAudio</a> audio device.<br />
‘pahandle’ is the handle of the device whose buffer is to be filled.<br />
‘bufferhandle’ is the handle of the buffer: Use a handle of zero for the<br />
standard buffer created and accessed via ‘FillBuffer’. ‘bufferdata’ is a matrix<br />
with audio data in double() or single() format. Each row of the matrix specifies<br />
one sound channel, each column one sample for each channel. Only floating point<br />
values are supported. Samples need to be in range -1.0 to +1.0, with 0.0 for<br />
silence. This is intentionally a very restricted interface. For lowest latency<br />
and best timing we want you to provide audio data exactly at the optimal format<br />
and sample rate, so the driver can safe computation time and latency for<br />
expensive sample rate conversion, sample format conversion, and bounds<br />
checking/clipping.<br />
Instead of a matrix, you can also pass in the bufferhandle of an audio buffer as<br />
‘bufferdata’. This buffer must have been created beforehand via<br />
<a href="PsychPortAudio" class="uri">PsychPortAudio</a>(‘CreateBuffer’, …). Its content must satisfy the same<br />
constraints as in case of passing a Matlab matrix. The content will be copied<br />
from the given buffer to the standard audio buffer, so it is safe to delete that<br />
source buffer if you want.<br />
‘startIndex’ optional: Defines the first sample frame within the buffer where<br />
refill should start. By default, refilling starts at the beginning of the buffer<br />
- at sample frame 0. ‘startIndex’ allows to start refilling at some offset.<br />
Please note that ‘RefillBuffer’ can’t resize an existing buffer - you can’t fill<br />
in more data than the current buffer capacity permits. If you want to add more<br />
sound, you’ll need to use ‘FillBuffer’ or create a new buffer of proper<br />
capacity.<br />
‘RefillBuffer’ can be used any time on a buffer, even if the buffer is currently<br />
playing, allowing for on-the-fly replacement of content. However be careful to<br />
avoid the currently played section, or you’ll hear audio artifacts. For<br />
streaming out audio content in a glitch-free way, you may want to use the<br />
‘streamingrefill’ option of the ‘FillBuffer’ subfunction instead.</p>
<p>&lt;&lt;=====See also:===== Open FillBuffer GetStatus &lt;&lt;</p>
