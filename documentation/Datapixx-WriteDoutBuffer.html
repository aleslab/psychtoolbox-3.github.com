<h1 id="datapixxwritedoutbuffer"><a href="Datapixx-WriteDoutBuffer">Datapixx(‘WriteDoutBuffer’)</a></h1>
<h2 id="psychtoolbox-datapixx.mexdll-subfunction">[[Psychtoolbox]] › [[Datapixx]].{mex*,dll} subfunction</h2>
<p>Download digital output data from local host to a Datapixx internal digital<br />
waveform buffer. Digital output waveforms can be used to generate complex<br />
triggering sequences and any other arbitrary digital waveforms. -“bufferData” is<br />
a 1D vector of digital output values. Each element of the vector contains new<br />
values for DOUT bits 0-15. -“bufferAddress” is the byte address in Datapixx RAM<br />
where the buffer should start. Specifying a bufferAddress of -1 will cause<br />
bufferData to be streamed to the end of the buffer which was last defined in<br />
<a href="SetDoutSchedule" class="uri">SetDoutSchedule</a>, and initialized by a call to <a href="WriteDoutBuffer" class="uri">WriteDoutBuffer</a> with bufferAddress<br />
not set to -1.<br />
-“nextBufferAddress” is the next Datapixx address after bufferData has been<br />
downloaded. Multiple contiguous digital waveforms can be downloaded by passing<br />
the returned nextBufferAddress of one waveform as the bufferAddress of the next<br />
waveform. The Datapixx typically has 128 MB of internal RAM which is shared<br />
between all I/O subsystems (DAC/ADC/AUDIO, etc). Datapixx(‘GetRamSize’) can be<br />
used to query the quantity of RAM in your system.<br />
-“underflow” or “overflow” are set to 1 if streaming calls to <a href="WriteDoutBuffer" class="uri">WriteDoutBuffer</a><br />
supply insufficient, or too much, data. If bufferAddress is passed a value of<br />
-1, then <a href="WriteDoutBuffer" class="uri">WriteDoutBuffer</a> is streaming continuous waveform data into a circular<br />
buffer. Streaming playback must ensure that the provided data always remains<br />
ahead of the playback position, without providing more data than can fit in the<br />
playback buffer. The freeBufferFrames field returned by <a href="GetDoutStatus" class="uri">GetDoutStatus</a> indicates<br />
the maximum number of frames which can be written by <a href="WriteDoutBuffer" class="uri">WriteDoutBuffer</a>. If more<br />
than this number of frames is written, an overflow occurs and there will be a<br />
glitch in the generated waveform. If the streaming data is not supplied quickly<br />
enough, then old data will be played, also causing a glitch. In addition to<br />
returning underflow/overflow flags, these errors will increment the<br />
numStreamUnderflows/numStreamOverflows fields returned by <a href="GetDoutStatus" class="uri">GetDoutStatus</a>.<br />
See <a href="DatapixxDout" class="uri">DatapixxDout</a>*Demo files for examples.</p>
<p>&lt;&lt;=====See also:===== SetDoutSchedule &lt;&lt;</p>
