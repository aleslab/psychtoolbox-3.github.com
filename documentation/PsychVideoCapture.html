<h2 id="psychtoolbox-psychvideocapture">[[Psychtoolbox]] › [[PsychVideoCapture]]</h2>
<p><a href="PsychVideoCapture" class="uri">PsychVideoCapture</a> – Video capture support</p>
<p>Psychtoolbox has built-in <a href="Screen" class="uri">Screen</a> subfunctions that allow you to control<br />
and use standard and professional video capture equipment to capture live<br />
video from a camera or other supported video source in real-time with low<br />
latency.</p>
<p>This is useful for studies on (manipulated) visual feedback, e.g.,<br />
action-perception studies, as well as for future applications like vision<br />
based eye-trackers.</p>
<p>The M-Files in this folder use the <a href="Screen" class="uri">Screen</a> - Low-level functions to<br />
provide more convenient high-level access to standard video capture<br />
tasks, e.g., setup of the camera or a video feedback loop with low and<br />
controlled latency.</p>
<p>The functions are well tested and known to work perfectly on Linux.<br />
Support on <a href="MacOS" class="uri">MacOS</a>-X and Windows is not always as feature rich, flexible<br />
and mature as on Linux. Especially, the OS-X and Windows versions are not<br />
as extensively tested. Some of the functions here are work in progress,<br />
useful, but not finished.</p>
<p><a href="Screen" class="uri">Screen</a>() supports two separate built-in videocapture engines for<br />
different purposes:</p>
<h3 id="professional-class-engine-for-demanding-applications">PROFESSIONAL CLASS ENGINE FOR DEMANDING APPLICATIONS:</h3>
<p>For demanding pro-applications that require precise low-level control<br />
over your camera’s features and capture parameters, high capture<br />
framerates, image resolutions, color depths and processing efficiency,<br />
low-latency, high timing precision and high capture timestamp precision,<br />
<a href="Screen" class="uri">Screen</a> implements a firewire videocapture engine which is based on the<br />
free-software and open-source cross-platform library “libdc1394”. This<br />
engine supports professional IEEE-1394 machine vision cameras conforming<br />
to the IIDC 1.0 machine vision camera specification. These can be<br />
connected via IEEE-1394 firewire bus, or for some special examplars also<br />
via high-performance USB bus via “Firewire-over-USB” protocol. This<br />
high-perf capture engine is selected as default via the following <a href="Screen" class="uri">Screen</a><br />
preference setting:</p>
<p><a href="Screen" class="uri">Screen</a>(‘<a href="Preference" class="uri">Preference</a>’, ‘DefaultVideocaptureEngine’, 1);</p>
<p>Alternatively you can select it on a case-by-case basis by passing the<br />
value 1 as optional ‘engineID’ parameter for the<br />
<a href="Screen" class="uri">Screen</a>(‘OpenVideocapture’, …); command.</p>
<p>See <a href="http://damien.douxchamps.net/ieee1394/libdc1394/\" class="uri">http://damien.douxchamps.net/ieee1394/libdc1394/\</a> for information<br />
about the libdc1394 library, forums and links to the IIDC-Spec.</p>
<p>A list of supported firewire pro-cameras can be found here:<br />
<a href="http://damien.douxchamps.net/ieee1394/cameras/\" class="uri">http://damien.douxchamps.net/ieee1394/cameras/\</a></p>
<p>The firewire engine is currently supported on Linux, where it was<br />
originally developed, extensively tested and used, and on <a href="MacOSX" class="uri">MacOSX</a>, where<br />
it received some light testing and use. Therefore, the Linux version is<br />
the most mature and well-tested one. It allows very convenient and<br />
fine-grained control over many aspects and settings of the cameras, it<br />
reliably can drive multiple cameras in parallel (tested with two cameras)<br />
and it has excellent timing, very low capture latency and highly accurate<br />
built-in timestamping code. The reported timestamps are accurate to a few<br />
dozen microseconds.</p>
<p>You will need Linux kernel 2.4.21 or later or Linux 2.6.16 or later for<br />
best performance, but these are part of any recent distribution.</p>
<h3 id="supported-cameras">Supported Cameras:</h3>
<p>All IIDC compliant cameras should work. For the Basler A602f greyscale<br />
high performance camera, the Basler A312fc, and the cheap and good<br />
Unibrain Fire-i camera, the <a href="PsychCamSettings" class="uri">PsychCamSettings</a> - Tool provides especially<br />
convenient access to the camera settings.</p>
<p>You can find additional setup instructions for the libdc1394 engine in<br />
‘help VideoCaptureDC1394’. Executing <a href="VideoCaptureDC1394" class="uri">VideoCaptureDC1394</a> on OSX will<br />
install the runtime library for you.</p>
<h3 id="consumer-level-engine-for-less-stringent-requirements">CONSUMER LEVEL ENGINE FOR LESS STRINGENT REQUIREMENTS:</h3>
<p>This engine is targeted at standard consumer class video capture and<br />
video digitizer equipment, e.g., built-in cameras of Laptop computers,<br />
USB or Firewire connected “webcams”, DV camcorders, standard video<br />
converters and receivers etc. Quality of feature control, efficiency,<br />
attainable framerates and resolutions, precision of timing or capture<br />
timestamps and other properties vary on a model-by-model,<br />
vendor-by-vendor, operating-system-by-operating-system basis. While some<br />
relatively cheap cameras work very well on some operating systems, e.g.,<br />
the “Sony <a href="PlayStation" class="uri">PlayStation</a> Eye” USB web-camera, no guarantess can be made<br />
about the performance or quality of any specific camera.</p>
<p><a href="Screen" class="uri">Screen</a> supports a [<a href="GStreamer" class="uri">GStreamer</a>][(GStreamer)]((GStreamer)) based engine on all operating systems.</p>
<p>We use [<a href="GStreamer" class="uri">GStreamer</a>][(GStreamer]((GStreamer))’s built-in videocapture functionality by default (see<br />
“help [<a href="GStreamer" class="uri">GStreamer</a>][(GStreamer)]((GStreamer))”). This is highly reliable and feature rich on Linux,<br />
somewhat less feature rich and reliable but still decent on Windows and<br />
OSX – highly dependent on the version of Windows you are using. The<br />
engine should support most commercially available consumer level cameras<br />
for firewire, USB, PCI and other busses, basically any camera for which<br />
the operating system and [<a href="GStreamer" class="uri">GStreamer</a>][(GStreamer)]((GStreamer)) provide a device driver.</p>
<p>This engine has id 3 and is selected by default on all operating systems.<br />
You can find additional setup instructions for [<a href="GStreamer" class="uri">GStreamer</a>][(GStreamer)]((GStreamer)) in ‘help<br />
[<a href="GStreamer" class="uri">GStreamer</a>][(GStreamer]((GStreamer))’.</p>
<h3 id="contents-of-this-folder">Contents of this folder:</h3>
<p>libdc1394.22.dylib - The runtime library for the libdc1394 firewire video<br />
capture engine for 64-Bit <a href="MacOS" class="uri">MacOS</a>/X. For installation<br />
into the /usr/local/lib/ system folder of your<br />
machine. Source code for this LGPL-v2+ licensed<br />
library can be found in the PTB source distribution<br />
(“help <a href="UseTheSource" class="uri">UseTheSource</a>”) in the following subfolder:<br />
<a href="PsychSourceGL" class="uri">PsychSourceGL</a>/Cohorts/libDC1394</p>
<p><a href="PsychCamSettings" class="uri">PsychCamSettings</a> - Function for programmatically querying and setting<br />
camera parameters like exposure time, gain, brightness<br />
color saturation and such. Can also estimate the<br />
internal latency of the camera for known models,<br />
currently Basler A602f, A312fc and Unibrain Fire.i</p>
<p><a href="PsychGetCamIdForSpec" class="uri">PsychGetCamIdForSpec</a> - Return deviceIndex of a specified camera.</p>
<p><a href="PsychOpenEyes" class="uri">PsychOpenEyes</a> - INCOMPLETE and therefore DYSFUNCTIONAL! Control<br />
interface for PTB’s integrated vision based<br />
eyetracker, based on the <a href="OpenEyes" class="uri">OpenEyes</a> toolkit.</p>
<p><a href="PsychSetupCamera" class="uri">PsychSetupCamera</a> - Interactive tool for setting up a camera and writing<br />
the final settings into a .mat file for later use<br />
by experiment scripts.</p>
<p><a href="PsychVideoDelayLoop" class="uri">PsychVideoDelayLoop</a> - Full, feature rich implementation of a live<br />
video feedback loop with controllable latency.<br />
See its help for a list of features. See<br />
<a href="VideoDelayLoopMiniDemo" class="uri">VideoDelayLoopMiniDemo</a> for a demo of it.</p>
<div class="code_header" style="text-align:right;">
<p><span style="float:left;">Path  </span> <span class="counter">Retrieve <a href=
  "https://raw.github.com/Psychtoolbox-3/Psychtoolbox-3/beta/Psychtoolbox/PsychVideoCapture/Contents.m">current version from GitHub</a> | View <a href=
  "https://github.com/Psychtoolbox-3/Psychtoolbox-3/commits/beta/Psychtoolbox/PsychVideoCapture/Contents.m">changelog</a></span></p>
</div>
<div class="code">
<p><code>Psychtoolbox/PsychVideoCapture/Contents.m</code></p>
</div>
<p>{{category}}</p>
