<h2 id="psychtoolbox-psychjava">[[Psychtoolbox]] › [[PsychJava]]</h2>
<p><a href="PsychJavaSwingCleanup" class="uri">PsychJavaSwingCleanup</a> - Clean up some internal Java stuff.</p>
<p>The Matlab GUI is based on Java Swing, which occasionly causes problems<br />
when used with Psychtoolbox due to internal quirks of Swing’s<br />
<a href="RepaintManager" class="uri">RepaintManager</a> class (“<a href="OutOfMemoryError" class="uri">OutOfMemoryError</a> in Java heap space”).<br />
<a href="PsychJavaSwingCleanup" class="uri">PsychJavaSwingCleanup</a>() forces the <a href="RepaintManager" class="uri">RepaintManager</a> to re-initialize by<br />
temporarily setting its screen buffer to zero size. Calling the garbage<br />
collector is probably not really necessary because it gets called by<br />
Matlab at some point anyway. Finally we try to overcome the problem that<br />
the <a href="RepaintManager" class="uri">RepaintManager</a> apparently forgets about its dirty regions while<br />
re-initializing.</p>
<p>This routine is closely derived from the one posted in Psychtoolbox forum<br />
message #16043 by user qx1147.</p>
<p>Another possible solution is described and offered in message #13975 by<br />
Davide Tabarelli.</p>
<div class="code_header" style="text-align:right;">
<p><span style="float:left;">Path  </span> <span class="counter">Retrieve <a href=
  "https://raw.github.com/Psychtoolbox-3/Psychtoolbox-3/beta/Psychtoolbox/PsychJava/PsychJavaSwingCleanup.m">current version from GitHub</a> | View <a href=
  "https://github.com/Psychtoolbox-3/Psychtoolbox-3/commits/beta/Psychtoolbox/PsychJava/PsychJavaSwingCleanup.m">changelog</a></span></p>
</div>
<div class="code">
<p><code>Psychtoolbox/PsychJava/PsychJavaSwingCleanup.m</code></p>
</div>
