<h2 id="psychtoolbox-psychtests">[[Psychtoolbox]] › [[PsychTests]]</h2>
<p><a href="TextBoundsTest" class="uri">TextBoundsTest</a>([string] [, font] [, textSize] [, rotAngle])</p>
<p>Test <a href="Screen" class="uri">Screen</a>(‘TextBounds’) as a fast way of determining the bounding<br />
rectangle (aka bounding box) of a string of text, as well as the very<br />
precise but slow <a href="TextBounds" class="uri">TextBounds</a>.m function.</p>
<p><a href="Screen" class="uri">Screen</a>(‘TextBounds’) uses information from the operating system about the<br />
bounding polygons of a string of text to compute the bounding box. This<br />
is fast, but it relies on the typesetting algorithms of the OS and the<br />
information encoded in a font definition file playing well with each<br />
other. Usually that’s the case, but there are a few special fonts which<br />
either don’t encode their own boundaries correctly, or which are typeset<br />
in an unusual way that the OS facilities can’t handle correctly. In such<br />
cases, textbounds will be way to big or too small and text may appear cut<br />
off.</p>
<p>The <a href="TextBounds" class="uri">TextBounds</a>() function implemented in <a href="TextBounds" class="uri">TextBounds</a>.m uses a different<br />
approach: It draws the text string into a provided window - usually an<br />
offscreen window which is so big that it can easily accomodate the text<br />
string in question, ie., it is way too big for the string. Then it reads<br />
back the image of that string and computes the exact bounding box of the<br />
non-background pixels. This method is obviously independent of OS<br />
facilities and (faulty) information in the font files - thereby highly<br />
robust and accurate. However the approach is very slow, so you should<br />
only use this method if you really need it.</p>
<p>This test script both tests functioning of both methods and provides a<br />
code example of how to use the information returned by both methods to<br />
either frame drawn text, or to actually draw unusual difficult text by<br />
first predrawing it into an offscreen window of sufficient size, then<br />
blitting the really “meaningful” portions of that offscreen window into<br />
the real image window.</p>
<p>Optional parameters: (All have meaningful defaults)<br />
‘string’ The text string to draw. Default: “Wordy”<br />
‘font’ Name of the font definition file. Default: “Chicago”<br />
‘textSize’ Size of text font. Default: 64 pts.<br />
‘rotAngle’ Orientation of test-blitted text. Default: 45 degrees.</p>
<div class="code_header" style="text-align:right;">
<p><span style="float:left;">Path  </span> <span class="counter">Retrieve <a href=
  "https://raw.github.com/Psychtoolbox-3/Psychtoolbox-3/beta/Psychtoolbox/PsychTests/TextBoundsTest.m">current version from GitHub</a> | View <a href=
  "https://github.com/Psychtoolbox-3/Psychtoolbox-3/commits/beta/Psychtoolbox/PsychTests/TextBoundsTest.m">changelog</a></span></p>
</div>
<div class="code">
<p><code>Psychtoolbox/PsychTests/TextBoundsTest.m</code></p>
</div>
