<h2 id="psychtoolbox-psychbasic">[[Psychtoolbox]] › [[PsychBasic]]</h2>
<p>[x,y,buttons,focus,valuators,valinfo] = <a href="GetMouse" class="uri">GetMouse</a>([windowPtrOrScreenNumber][, mouseDev])</p>
<p>Returns the current (x,y) position of the cursor and the up/down state<br />
of the mouse buttons. “buttons” is a 1xN matrix where N is the number of<br />
mouse buttons. Each element of the matrix represents one mouse button.<br />
The element is true (1) if the corresponding mouse button is pressed and<br />
false (0) otherwise.</p>
<p>If an optional windowPtr argument for an onscreen window is provided,<br />
<a href="GetMouse" class="uri">GetMouse</a> will also return the window focus state as optional 4th<br />
return argument ‘focus’. ‘focus’ is 1 if the window has input focus<br />
and zero otherwise.</p>
<p>The optional ‘mouseDev’ parameter allows to select a specific mouse or<br />
pointer device to query if your system has multiple pointer devices.<br />
Currently Linux only, silently ignored on other operating systems.</p>
<p>On Linux, the optional ‘valuator’ return argument contains the current<br />
values of all axis on a multi-axis device, ie., a device which not only<br />
has an x- and y-axis like a conventional mouse. E.g., digitizer tablets<br />
(like the “Wacom” pen tablets), may also have axis (also called “valuators”)<br />
which report pen rotation, pen tilt and yaw angle wrt. the tablet surface,<br />
distance to the tablet surface, or normal and tangential pen pressure.<br />
Touchpads or trackpads may return contact area with the finger, or pressure.<br />
Joysticks may return info about additional sliders, wheels or other controls<br />
beyond the deflection of the joystick itself.</p>
<p>‘valuators’ is a vector with one double value per axis on Linux. On OSX the<br />
first two entries will return info about relative mouse movement (deltaX,<br />
deltaY) since last query, as reported by the OS with unknown reliability in<br />
unknown units, but probably pixels - use with caution! On MS-Windows, valuator<br />
is an empty matrix.</p>
<p>The optional ‘valinfo’ struct array contains one struct per valuator.<br />
The struct contains fields with info about a valuator, e.g., minimum<br />
and maximum value, resolution and a label. This is only supported on Linux.<br />
On other systems it is an empty matrix, except on OSX where it reports<br />
marginally useful info.</p>
<p>% Test if any mouse button is pressed.<br />
if any(buttons)<br />
fprintf(‘Someone’‘s pressing a button.’);<br />
end</p>
<p>% Test if the first mouse button is pressed.<br />
if buttons(1)<br />
fprintf(‘Someone’‘s pressing the first button!’);<br />
end</p>
<p>% Test if the second mouse button is pressed.<br />
if length(buttons)&gt;=2 &amp;&amp; buttons(2)<br />
fprintf(‘Someone’‘s pressing the second button!’);<br />
end</p>
<p>length(buttons) tells you how many buttons there are on your mouse.</p>
<p>The cursor position (x,y) is “local”, i.e. relative to the origin of<br />
the window or screen, if supplied. Otherwise it’s “global”, i.e. relative<br />
to the origin of the main screen (the one with the menu bar).</p>
<p>NOTE: If you use <a href="GetMouse" class="uri">GetMouse</a> to wait for clicks, don’t forget to wait<br />
for the user to release the mouse button, ending the current click, before<br />
you begin waiting for the next mouse press.</p>
<p>Alternatively, you can also use the <a href="GetClicks" class="uri">GetClicks</a>() function to wait for<br />
mouse-clicks and return the mouse position of first click and the number<br />
of mouse button clicks.</p>
<p>fprintf(‘Please click the mouse now.’);<br />
[x,y,buttons] = <a href="GetMouse" class="uri">GetMouse</a>;<br />
while any(buttons) % if already down, wait for release<br />
[x,y,buttons] = <a href="GetMouse" class="uri">GetMouse</a>;<br />
end<br />
while ~any(buttons) % wait for press<br />
[x,y,buttons] = <a href="GetMouse" class="uri">GetMouse</a>;<br />
end<br />
while any(buttons) % wait for release<br />
[x,y,buttons] = <a href="GetMouse" class="uri">GetMouse</a>;<br />
end<br />
fprintf(‘You clicked! Thanks.’);</p>
<p>NOTE: <a href="GetMouse" class="uri">GetMouse</a> no longer supports this obsolete usage:<br />
xy = <a href="GetMouse" class="uri">GetMouse</a>([windowPtrOrScreenNumber])<br />
where xy is a 1x2 vector containing the x, y coordinates.</p>
<p>OS X: _______________________________________________________________________</p>
<p>Even if your mouse has more than three buttons, <a href="GetMouse" class="uri">GetMouse</a> will return as<br />
many values as your mouse has buttons. <a href="GetMouse" class="uri">GetMouse</a> can’t distinguish between<br />
multiple mice and will always return the unified state of all mice.</p>
<p>LINUX: ______________________________________________________________________</p>
<p><a href="GetMouse" class="uri">GetMouse</a> can distinguish between multiple mouse-like devices. It can return<br />
information about additional axis (valuators). <a href="GetMouse" class="uri">GetMouse</a> not only returns<br />
status info about mouse/trackpad/trackball devices, but also info about<br />
Pen digitizer tablets (e.g., Wacom tablets), touch pads and touch screens,<br />
and joystick/gamepad devices. Usually you’d use the <a href="GamePad" class="uri">GamePad</a>() function though<br />
for Joystick/Gamepad query.</p>
<p>M$-Windows: _________________________________________________________________</p>
<h3 id="limitations">Limitations:</h3>
<p><a href="GetMouse" class="uri">GetMouse</a> will always assume a three button mouse and therefore always<br />
return the state of three buttons. <a href="GetMouse" class="uri">GetMouse</a> can’t distinguish between<br />
multiple mice and will always return the unified state of all mice.<br />
_____________________________________________________________________________<br />
See also: <a href="GetClicks" class="uri">GetClicks</a>, <a href="SetMouse" class="uri">SetMouse</a></p>
<div class="code_header" style="text-align:right;">
<p><span style="float:left;">Path  </span> <span class="counter">Retrieve <a href=
  "https://raw.github.com/Psychtoolbox-3/Psychtoolbox-3/beta/Psychtoolbox/PsychBasic/GetMouse.m">current version from GitHub</a> | View <a href=
  "https://github.com/Psychtoolbox-3/Psychtoolbox-3/commits/beta/Psychtoolbox/PsychBasic/GetMouse.m">changelog</a></span></p>
</div>
<div class="code">
<p><code>Psychtoolbox/PsychBasic/GetMouse.m</code></p>
</div>
