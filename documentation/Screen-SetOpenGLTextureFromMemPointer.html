<h1 id="screensetopengltexturefrommempointer"><a href="Screen-SetOpenGLTextureFromMemPointer">Screen(‘SetOpenGLTextureFromMemPointer’)</a></h1>
<h2 id="psychtoolbox-screen.mexdll-subfunction">[[Psychtoolbox]] › [[Screen]].{mex*,dll} subfunction</h2>
<p>DANGEROUS! C-PROGRAMMING EXPERTS ONLY! OTHERS STAY AWAY! Convert raw image data,<br />
provided as a pointer to a system memory buffer, into a Psychtoolbox texture.<br />
CAUTION: Providing wrong arguments to this subfunction will definitely crash<br />
Psychtoolbox and Matlab! “windowPtr” is the handle of the onscreen window to<br />
which the texture should be attached. ‘textureHandle’ is either the Psychtoolbox<br />
handle for an existing PTB texture that should be updated with the new raw pixel<br />
data, or the special value zero or [] if a completely new PTB texture should be<br />
created from the raw pixel data. ‘imagePtr’ is a C programming language (void*)<br />
memory pointer that points to the start of a memory buffer with the raw image<br />
data. The pointer needs to be encoded in a special way. Read the source code of<br />
<a href="Memorybuffer2Texture" class="uri">Memorybuffer2Texture</a>.c and <a href="Memorybuffer2TextureDemo" class="uri">Memorybuffer2TextureDemo</a>.m for minimal examples on<br />
how to do this properly. <a href="Memorybuffer2Texture" class="uri">Memorybuffer2Texture</a>.cc demonstrates the same for<br />
GNU/Octave. The optional parameter ‘target’ is the type of texture object to<br />
create, e.g., GL_TEXTURE_2D. Normally you’ll just leave it out, so PTB can<br />
choose the optimal texture format for a system. ‘width’ and ‘height’ are the<br />
width and height of the image. ‘depth’ is the depth of the image: 1 = Input is a<br />
greyscale image with 1 Byte per pixel. 3 = Input is a RGB truecolor image with 3<br />
Bytes per pixel. 2 and 4 are like 1 and 3, but with one byte for an alpha<br />
(transparency) channel added. The optional flag ‘upsidedown’ can be set to one<br />
(default is zero) to create textures upside-down - inverted in vertical<br />
direction. ‘glinternalformat’, ‘gltype’ and ‘extdataformat’ are all optional. If<br />
you provide one of them, you’ll need to provide all of them. In that case, PTB<br />
will create an <a href="OpenGL" class="uri">OpenGL</a> texture with exactly the specified internal format,<br />
assuming input data that is of type ‘gltype’ and in numeric data format<br />
‘extdataformat’. You are completely responsible for passing properly formatted<br />
data. This is mostly useful for injecting high dynamic range texture images and<br />
other exotic texture formats.<br />
‘specialFlags’ Special optional texture flags, see help for<br />
<a href="Screen" class="uri">Screen</a>(‘MakeTexture’).<br />
The function returns the textureHandle of the PTB texture and its defining<br />
rectangle. This routine allows external C-Code (Mex- or Oct-Files) to inject raw<br />
image data as a texture into PTB.</p>
<p>&lt;&lt;=====See also:===== SetOpenGLTexture MakeTexture &lt;&lt;</p>
