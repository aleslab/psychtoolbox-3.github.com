<h2 id="psychtoolbox-psychbasic">[[Psychtoolbox]] › [[PsychBasic]]</h2>
<p>[event, nremaining] = <a href="TouchEventGet" class="uri">TouchEventGet</a>(deviceIndex, windowHandle [, maxWaitTimeSecs=0])</p>
<p>Return oldest pending event, if any, in return argument ‘event’, and the<br />
remaining number of recorded events in the event buffer of a touch<br />
queue in the return argument ‘nremaining’.</p>
<p><a href="TouchEventGet" class="uri">TouchEventGet</a>() will wait up to ‘maxWaitTimeSecs’ seconds for at least one<br />
event to show up before it gives up. By default, if ‘maxWaitTimeSecs’ is 0<br />
or empty or omitted, it doesn’t wait but just gives up if there aren’t any<br />
events queued at time of invocation. In that case it returns an empty ‘event’.</p>
<p>‘event’ is either empty if there aren’t any events available, or it is a<br />
struct with various information about the touch event. The returned event<br />
struct currently contains at least the following useful fields:</p>
<p>‘Type’ = 0 for button presses or releases if the touch device also has<br />
physical or logical buttons. ‘Pressed’ will tell if this is a<br />
button press (1) or release (0) event.</p>
<pre><code>   = 1 single touch point move: Only happens on some mousepads if mouse  
     emulation kicks in. &#39;X&#39;, &#39;mappedX&#39; and &#39;Y&#39; / &#39;mappedY&#39; will tell the  
     touch point / emulated mouse cursor position.  

   = 2 New touch: &#39;X/[NormX](NormX)/mappedX&#39; and &#39;Y/[NormY](NormY)/mappedY&#39; tell start location.  
       Happens, e.g., when a finger touches the touch surface. The &#39;Keycode&#39;  
       contains a numeric id which uniquely identifies this touch point while  
       it is active, e.g., while the finger stays on the surface.  

   = 3 Touch moved: &#39;X/[NormX](NormX)/mappedX&#39; and &#39;Y/[NormY](NormY)/mappedY&#39; tell new location.  
       E.g., when a finger moves over the touch surface. &#39;Keycode&#39; allows you  
       to know which of possible multiple fingers or tools is moving.  

   = 4 Touch finished: &#39;X/[NormX](NormX)/mappedX&#39; and &#39;Y/[NormY](NormY)/mappedY&#39; tell final location.  
       Happens when the finger or tool is lifted from the touch surface. The  
       &#39;Keycode&#39; tells you which finger or tool was lifted from the surface.  

   = 5 Touch data lost: Some other application or the GUI took over our  
       touch input, and cut us off from it, so the recorded touch data  
       sequence is incomplete. You should wait a second, then call  
       [TouchEventFlush](TouchEventFlush)() to discard all remaining events in the queue,  
       then mark your trial invalid and take some corrective action,  
       maybe asking the experimenter to disable other running touch  
       applications or GUI services, e.g., touch gesture recognition of  
       the system user interface, so they can no longer interfere with  
       experiment data collection.  </code></pre>
<p>‘X’ = x-position in units of screen pixels, with fractional (sub-pixel) resolution.<br />
‘Y’ = y-position in units of screen pixels, with fractional (sub-pixel) resolution.</p>
<p>The origin (0,0) for ‘X’ and ‘Y’ coordinates is the top-left corner of the screen<br />
on MS-Windows and on Linux with classic X11 X-Window display system. On Linux with<br />
the next-generation Wayland display system, (0,0) refers to the top-left corner of<br />
the associated onscreen window for the touch event. Use ‘mappedX’ and ‘mappedY’<br />
below if you always want onscreen window relative coordinates, transformed to the<br />
top-left corner of the provided ‘windowHandle’.</p>
<p>‘NormX’ = Normalized x-position in range 0 - 1. Constant 0 if unavailable.<br />
‘NormY’ = Normalized y-position in range 0 - 1. Constant 0 if unavailable.</p>
<p>‘MappedX’ = x-position relative to provided onscreen window with ‘windowHandle’.<br />
‘MappedY’ = y-position relative to provided onscreen window with ‘windowHandle’.</p>
<p>‘Time’ = The <a href="GetSecs" class="uri">GetSecs</a> time when the event was received.</p>
<p>‘Keycode’ = The unique numeric id key of this touch point. A specific physical<br />
touch, e.g., one specific finger touching a touchscreen, will get<br />
a unique number assigned, which will persist while the finger rests<br />
or moves on the touch surface, until it is lifted off the surface,<br />
ie. the unique number is assigned in a Type=2 event, kept throughout<br />
Type=3 events, and last used in Type=4 events, before it goes the<br />
way of all mortal things. If you’d put the same finger down onto the<br />
touch surface again, it would get a new unique number assigned, as<br />
the touch hardware doesn’t know it is the same finger.</p>
<p>‘Pressed’ = 1 while a touch point is active (finger touches screen), 0 when the<br />
touch point is removed, e.g., finger lifted from screen.</p>
<p>‘Motion’ = 1 while a touch point (=finger) is moving over the surface, 0 while<br />
it is resting.</p>
<div class="code_header" style="text-align:right;">
<p><span style="float:left;">Path  </span> <span class="counter">Retrieve <a href=
  "https://raw.github.com/Psychtoolbox-3/Psychtoolbox-3/beta/Psychtoolbox/PsychBasic/TouchEventGet.m">current version from GitHub</a> | View <a href=
  "https://github.com/Psychtoolbox-3/Psychtoolbox-3/commits/beta/Psychtoolbox/PsychBasic/TouchEventGet.m">changelog</a></span></p>
</div>
<div class="code">
<p><code>Psychtoolbox/PsychBasic/TouchEventGet.m</code></p>
</div>
