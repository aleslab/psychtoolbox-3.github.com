<h2 id="psychtoolbox-psychbasic">[[Psychtoolbox]] › [[PsychBasic]]</h2>
<p>wakeup=<a href="WaitSecs" class="uri">WaitSecs</a>(s)</p>
<p>Waits “s” seconds with high precision. The timing precision depends on<br />
the model of your computer, but a well configured system will be accurate<br />
to about 1 millisecond if your script is executed with realtime-priority<br />
(See help <a href="Priority" class="uri">Priority</a>) and well written.</p>
<p><a href="WaitSecs" class="uri">WaitSecs</a> optionally returns the time at “wakeup” in seconds, just as a<br />
<a href="WaitSecs" class="uri">WaitSecs</a>(s); wakeup = <a href="GetSecs" class="uri">GetSecs</a>; would do, but with less overhead.</p>
<p><a href="WaitSecs" class="uri">WaitSecs</a>(s) is similar to Matlab’s built-in PAUSE(s) command. The<br />
advantage of <a href="WaitSecs" class="uri">WaitSecs</a>(s) is that it is much more accurate. However, PAUSE<br />
can be turned ‘ON’ and ‘OFF’, which is useful for scripts.</p>
<p>You can also use <a href="WaitSecs" class="uri">WaitSecs</a> to wait until a specific time ‘when’ is reached,<br />
instead of waiting for a specific interval. This is a drift-free approach,<br />
even suitable for waiting a given interval, because errors can’t accumulate:</p>
<p>wakeup = <a href="WaitSecs" class="uri">WaitSecs</a>(‘UntilTime’, when);</p>
<p>TIMING ADVICE: the first time you access any MEX function or M file,<br />
Matlab takes several hundred milliseconds to load it from disk.<br />
Allocating a variable takes time too. Usually you’ll want to omit those<br />
delays from your timing measurements by making sure all the functions you<br />
use are loaded and that all the variables you use are allocated, before<br />
you start timing. MEX files stay loaded until you flush the MEX files<br />
(e.g. by changing directory or calling CLEAR MEX). M files and variables<br />
stay in memory until you clear them.</p>
<p>OS X: ___________________________________________________________________</p>
<p><a href="WaitSecs" class="uri">WaitSecs</a> always uses the high-precision uptime clock. It sleeps the main<br />
MATLAB thread for the given wait period, surrendering CPU time to other<br />
processes while waiting. <a href="WaitSecs" class="uri">WaitSecs</a> is now safe to use at any priority<br />
setting.</p>
<p><a href="WaitSecs" class="uri">WaitSecs</a> ignores the OX MATLAB &lt;ctrl&gt;-C break key sequenece.</p>
<p>WINDOWS:_________________________________________________________________</p>
<p><a href="WaitSecs" class="uri">WaitSecs</a> uses Windows <a href="QueryPerformanceCounter" class="uri">QueryPerformanceCounter</a>() call which, in turn,<br />
reads a high-performance hardware counter in Pentium and better <a href="CPUs" class="uri">CPUs</a>.</p>
<p><a href="WaitSecs" class="uri">WaitSecs</a> ignores the Win MATLAB &lt;ctrl&gt;-C break key sequenece.</p>
<p>Linux: __________________________________________________________________</p>
<p><a href="WaitSecs" class="uri">WaitSecs</a> always uses the POSIX realtime high-precision timing facilities<br />
(clock_nanosleep(CLOCK_RT,…)). It sleeps the main MATLAB thread for the<br />
given wait period, surrendering CPU time to other processes while waiting.<br />
<a href="WaitSecs" class="uri">WaitSecs</a> is now safe to use at any priority setting.</p>
<p>NB.: Use of a modern 2.6.x kernel is recommended, and many modern<br />
distros, e.g., Ubuntu 7.1, offer the option of installing a special<br />
low-latency soft-realtime (preempt) kernel for even higher timing<br />
precision - or even a hard-realtime kernel like <a href="RTLinux" class="uri">RTLinux</a> or RTAI. This is<br />
as easy as a few mouse clicks and waiting a few minutes!<br />
_________________________________________________________________________</p>
<p>See also: <a href="GetSecs" class="uri">GetSecs</a>, <a href="GetSecsTick" class="uri">GetSecsTick</a>, <a href="GetTicks" class="uri">GetTicks</a>, <a href="WaitTicks" class="uri">WaitTicks</a>, PAUSE.</p>
<div class="code_header" style="text-align:right;">
<p><span style="float:left;">Path  </span> <span class="counter">Retrieve <a href=
  "https://raw.github.com/Psychtoolbox-3/Psychtoolbox-3/beta/Psychtoolbox/PsychBasic/WaitSecs.m">current version from GitHub</a> | View <a href=
  "https://github.com/Psychtoolbox-3/Psychtoolbox-3/commits/beta/Psychtoolbox/PsychBasic/WaitSecs.m">changelog</a></span></p>
</div>
<div class="code">
<p><code>Psychtoolbox/PsychBasic/WaitSecs.m</code></p>
</div>
<p>realtime kernel like <a href="RTLinux" class="uri">RTLinux</a> or RTAI. This is<br />
as easy as a few mouse clicks and waiting a few minutes!<br />
_________________________________________________________________________</p>
<p>See also: <a href="GetSecs" class="uri">GetSecs</a>, <a href="GetSecsTick" class="uri">GetSecsTick</a>, <a href="GetTicks" class="uri">GetTicks</a>, <a href="WaitTicks" class="uri">WaitTicks</a>, PAUSE.</p>
