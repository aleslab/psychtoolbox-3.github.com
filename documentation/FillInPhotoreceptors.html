<h2 id="psychtoolbox-psychcolorimetricdata">[[Psychtoolbox]] › [[PsychColorimetricData]]</h2>
<p>photoreceptors = <a href="FillInPhotoreceptors" class="uri">FillInPhotoreceptors</a>(photoreceptors)</p>
<p>Convert all source strings in a photoreceptors structures<br />
to numerical values, so that the result is ready to compute<br />
on.</p>
<h3 id="the-typical-usage-of-this-routine-would-be">The typical usage of this routine would be:</h3>
<p>clear photoreceptors<br />
photoreceptors = <a href="DefaultPhotoreceptors" class="uri">DefaultPhotoreceptors</a>(‘LivingHumanFovea’);<br />
… statements here set value fields, to override default values<br />
that are either filled in from source or that we directly set.<br />
photoreceptors = <a href="FillInPhotoreceptors" class="uri">FillInPhotoreceptors</a>;</p>
<p>Values supplied for fields that could be computed from other fields<br />
override the computed values, with those computed later in the code<br />
taking precedence over those computed earlier. As of August, 2013<br />
a fair number of checks are in place to throw an error if you<br />
try to override a value that could have been computed from other passed<br />
parameters.</p>
<p>This routine does not deal with filling in the pupil diameter field of the photoreceptors<br />
structure, which might be a mistake. Pupil diameter is now used in the CIE calculations<br />
for lens density. So perhaps this routine should fill in pupil diameter value of it<br />
doesn’t exist. The problem is that computing pupil diameter from a source requires<br />
knowing the luminance of the stimulus, and this routine definitely does not want<br />
to know that. So perhaps what should happen here is just a check that values needed<br />
exist. See <a href="PupilDiameterFromLuminance" class="uri">PupilDiameterFromLuminance</a> if you are interested in knowing how pupil<br />
diameter might be determined given luminance.</p>
<p>There are some useful comments towards the end of this routine about how to compute<br />
isomerizations from the absorptances that this routine produces.</p>
<p>See also: <a href="DefaultPhotoreceptors" class="uri">DefaultPhotoreceptors</a>, <a href="RetIrradianceToIsoRecSec" class="uri">RetIrradianceToIsoRecSec</a><br />
<a href="IsomerizationsInEyeDemo" class="uri">IsomerizationsInEyeDemo</a>, <a href="IsomerizationsInDishDemo" class="uri">IsomerizationsInDishDemo</a>, <a href="ComputeCIEConeFundamentals" class="uri">ComputeCIEConeFundamentals</a>,<br />
<a href="CIEConeFundamentalsTest" class="uri">CIEConeFundamentalsTest</a>, <a href="PrintPhotoreceptors" class="uri">PrintPhotoreceptors</a>.</p>
<p>7/25/03 dhb Wrote it.<br />
8/14/11 dhb Allow pass through of field size, pupil diameter, and age.<br />
Try not to break old code in how this is handled.<br />
4/26/12 dhb Return density as well as transmittance for lens and macular pigment.<br />
8/9/13 dhb Bulletproofing, by putting in a lot more consistency checks, and requiring<br />
the calling program not to pass inconsistent information (e.g., you can’t pass<br />
a nomogram and an absorbance spectrum.)<br />
8/11/13 dhb More checking. Add ability to adjust lens/macular density. Return energy and quantal fundamentals (normalized to unity).<br />
8/12/13 dhb Fixed buglet resulting from forgetting to update after copy/paste.<br />
10/16/13 mk <a href="Replace" class="uri">Replace</a> obsolete isstr() by ischar() to future-proof this.<br />
5/24/14 dhb Compute axialDensity.bleachedValue by fractionPigmentBleached.value field, if the latter exists.<br />
This is set to the axialDensity.value field if no bleaching is provided. The bleachedValue number is<br />
then passed to <a href="AbsorbanceToAbsorptance" class="uri">AbsorbanceToAbsorptance</a>.</p>
<div class="code_header" style="text-align:right;">
<p><span style="float:left;">Path  </span> <span class="counter">Retrieve <a href=
  "https://raw.github.com/Psychtoolbox-3/Psychtoolbox-3/beta/Psychtoolbox/PsychColorimetricData/FillInPhotoreceptors.m">current version from GitHub</a> | View <a href=
  "https://github.com/Psychtoolbox-3/Psychtoolbox-3/commits/beta/Psychtoolbox/PsychColorimetricData/FillInPhotoreceptors.m">changelog</a></span></p>
</div>
<div class="code">
<p><code>Psychtoolbox/PsychColorimetricData/FillInPhotoreceptors.m</code></p>
</div>
