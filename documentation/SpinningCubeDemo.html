<h2 id="psychtoolbox-psychdemos-opengl4matlabdemos">[[Psychtoolbox]] › [[PsychDemos]] › [[OpenGL4MatlabDemos]]</h2>
<p><a href="SpinningCubeDemo" class="uri">SpinningCubeDemo</a> - Demonstrate use of MATLAB-<a href="OpenGL" class="uri">OpenGL</a> toolbox</p>
<p>This demo demonstrates use of <a href="OpenGL" class="uri">OpenGL</a> commands in a Matlab script to<br />
perform some funky 3D animation in Psychtoolbox.<br />
It shows a randomly spinning, textured cube. The six sides of the cube<br />
are textured via binary texture data loaded from a file.</p>
<p>Stop the demo by pressing any key.</p>
<p>Notable implementation details:<br />
The call <a href="InitializeMatlabOpenGL" class="uri">InitializeMatlabOpenGL</a>(1) at the top of the script initializes the<br />
Matlab-<a href="OpenGL" class="uri">OpenGL</a> toolbox and enables the 3D gfx support in Psychtoolbox to<br />
allow proper interfacing between the <a href="OpenGL" class="uri">OpenGL</a> toolbox and Psychtoolbox.</p>
<p>After this call, all <a href="OpenGL" class="uri">OpenGL</a> functions are made available to Matlab with<br />
the same - or a very similar - calling syntax as in the C programming<br />
language. <a href="OpenGL" class="uri">OpenGL</a> constants are made available in C-Style, e.g.,<br />
GL_DEPTH_TEST, and in a format that is optimized for Matlab, where the<br />
first underscore is replaced by a dot, e.g., GL.DEPTH_TEST. The former<br />
style is more convenient if you want to copy &amp; paste <a href="OpenGL" class="uri">OpenGL</a> code written<br />
in C into a Matlab M-File for use, but it only works if you put all your<br />
code into one single M-File or function. The second style works in<br />
subfunctions as well, if you place the commands “global GL” and “global<br />
GLU” at the top of each function… This inconvenience is unavoidable due<br />
to the design of Matlab.</p>
<p>In order to execute <a href="OpenGL" class="uri">OpenGL</a> 3D drawing commands to draw 3D stims into a<br />
Psychtoolbox Onscreen- or offscreen window, one needs to call<br />
<a href="Screen" class="uri">Screen</a>(‘BeginOpenGL’, windowPtr). After <a href="OpenGL" class="uri">OpenGL</a> drawing and before<br />
execution of standard <a href="Screen" class="uri">Screen</a>() commands, one needs to call<br />
<a href="Screen" class="uri">Screen</a>(‘EndOpenGL’, windowPtr) to tell Psychtoolbox that 3D drawing is<br />
finished.</p>
<p>Some <a href="OpenGL" class="uri">OpenGL</a> functions that return complex parameters to Matlab are not<br />
yet implemented - this is work in progress. The performance will be also<br />
lower than when coding in a compiled language like C++ or C – that’s the<br />
Matlab tax you’ll have to pay ;-)</p>
<p>Apart from that, use of <a href="OpenGL" class="uri">OpenGL</a> for Matlab is the same as <a href="OpenGL" class="uri">OpenGL</a> for the C<br />
programming language. If you are used to <a href="OpenGL" class="uri">OpenGL</a> coding in C, it should be<br />
a zero effort transition to code in Matlab+PTB. If you don’t know <a href="OpenGL" class="uri">OpenGL</a><br />
then get yourself one of the many good books or visit one of the many<br />
<a href="OpenGL" class="uri">OpenGL</a> tutorials on the internet.</p>
<p>The <a href="OpenGL" class="uri">OpenGL</a> Red Book is a great introduction and reference for <a href="OpenGL" class="uri">OpenGL</a><br />
programming. Release 1.0 is available online, later releases can be<br />
purchased in any good book store:</p>
<p>http://www.opengl.org/documentation/red_book_1.0/</p>
<h3 id="for-more-infos-code-samples-tutorials-online-documentation-go-to">For more infos, code samples, tutorials, online documentation, go to:</h3>
<p>http://www.opengl.org</p>
<p>The <a href="OpenGL" class="uri">OpenGL</a> for Matlab toolbox was developed and contributed under<br />
GPL license by Prof. Richard F. Murray, University of York, Canada.</p>
<div class="code_header" style="text-align:right;">
<p><span style="float:left;">Path  </span> <span class="counter">Retrieve <a href=
  "https://raw.github.com/Psychtoolbox-3/Psychtoolbox-3/beta/Psychtoolbox/PsychDemos/OpenGL4MatlabDemos/SpinningCubeDemo.m">current version from GitHub</a> | View <a href=
  "https://github.com/Psychtoolbox-3/Psychtoolbox-3/commits/beta/Psychtoolbox/PsychDemos/OpenGL4MatlabDemos/SpinningCubeDemo.m">changelog</a></span></p>
</div>
<div class="code">
<p><code>Psychtoolbox/PsychDemos/OpenGL4MatlabDemos/SpinningCubeDemo.m</code></p>
</div>
