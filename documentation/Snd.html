<h2 id="psychtoolbox-psychbasic">[[Psychtoolbox]] › [[PsychBasic]]</h2>
<p>err = <a href="Snd" class="uri">Snd</a>(command,[signal],[rate],[sampleSize])</p>
<p>Old Sound driver for Psychtoolbox. USE OF THIS DRIVER IS DEPRECATED FOR<br />
ALL BUT THE MOST TRIVIAL PURPOSES!</p>
<p>Have a look at the help for <a href="PsychPortAudio" class="uri">PsychPortAudio</a> (“help <a href="PsychPortAudio" class="uri">PsychPortAudio</a>” and<br />
“help <a href="InitializePsychSound" class="uri">InitializePsychSound</a>”) for an introduction into the new sound<br />
driver, which is recommended for most purposes.</p>
<p><a href="Snd" class="uri">Snd</a>() is a rather dumb and primitive wrapper around the <a href="PsychPortAudio" class="uri">PsychPortAudio</a>()<br />
driver. It uses PsychPortAudio’s most basic functionality to achieve<br />
“sort of ok” sound playback. The driver is used in high-latency,<br />
low-timing precision mode, so <a href="Snd" class="uri">Snd</a>()’s audio playback timing will likely<br />
be very unreliable.</p>
<p>Alternatively you can create an empty file named ‘<a href="Snd" class="uri">Snd</a>_use_oldstyle.txt’ in<br />
the <a href="PsychtoolboxConfigDir" class="uri">PsychtoolboxConfigDir</a>() folder, ie., [<a href="PsychtoolboxConfigDir" class="uri">PsychtoolboxConfigDir</a> ‘<a href="Snd" class="uri">Snd</a>_use_oldstyle.txt’]<br />
This will enable the old-style implementation of <a href="Snd" class="uri">Snd</a>(), which is equally<br />
shoddy and works as follows:</p>
<p>While <a href="Snd" class="uri">Snd</a> used to use a special purpose low level driver on <a href="MacOS" class="uri">MacOS</a>-9 which<br />
was well suited for cognitive science, <a href="Snd" class="uri">Snd</a> for all other operating<br />
systems (Windows, <a href="MacOS" class="uri">MacOS</a>-X, Linux) just calls into Matlab’s Sound()<br />
function which is of varying - but usually pretty poor - quality in most<br />
implementations of Matlab. There are many bugs, latency- and timing<br />
problems associated with the use of <a href="Snd" class="uri">Snd</a>.</p>
<p>GNU/OCTAVE: If you don’t use the <a href="PsychPortAudio" class="uri">PsychPortAudio</a> based <a href="Snd" class="uri">Snd</a>() functin, then<br />
you must install the optional octave “audio” package from Octave-Forge,<br />
as of Octave 3.0.5, otherwise the required sound() function won’t be<br />
available and this function will fail!</p>
<h1 id="supported-functions">Supported functions</h1>
<p><a href="Snd" class="uri">Snd</a>(‘Play’, signal [, rate][, sampleSize]) plays a sound.</p>
<p>rate=<a href="Snd" class="uri">Snd</a>(‘DefaultRate’) returns the default sampling rate in Hz, which<br />
currently is 22254.5454545454 Hz on all platforms for the old style sound<br />
implementation, and the default device sampling rate if <a href="PsychPortAudio" class="uri">PsychPortAudio</a> is<br />
used. This default may change in the future, so please either specify a<br />
rate, or use this function to get the default rate. (This default is<br />
suboptimal on any system except <a href="MacOS" class="uri">MacOS</a>-9, but kept for backwards<br />
compatibility!)</p>
<p>The optional ‘sampleSize’ argument used with <a href="Snd" class="uri">Snd</a>(‘Play’) is only retained<br />
for backwards compatibility and has no meaning, unless you opt in to use<br />
the old-style implementation on Matlab with some operating systems. - It<br />
is checked for correctness, but other than that it is ignored. Allowable<br />
values are either 8 or 16.</p>
<p><a href="Snd" class="uri">Snd</a>(‘Open’) opens the channel, which stays open until you call<br />
<a href="Snd" class="uri">Snd</a>(‘<a href="Close" class="uri">Close</a>’). <a href="Snd" class="uri">Snd</a>(‘Play’,…) automatically opens the channel if it isn’t<br />
already open. In reality ‘Open’ does nothing in the current<br />
implementation and is silently ignored .</p>
<p><a href="Snd" class="uri">Snd</a>(‘<a href="Close" class="uri">Close</a>’) immediately stops all sound and closes the channel.</p>
<p><a href="Snd" class="uri">Snd</a>(‘Wait’) waits until the sound is done playing.</p>
<p>isPlaying=<a href="Snd" class="uri">Snd</a>(‘IsPlaying’) returns true if any sound is playing, and<br />
false (0) otherwise.</p>
<p><a href="Snd" class="uri">Snd</a>(‘Quiet’) stops the sound currently playing and flushes the queue, but<br />
leaves the channel open.</p>
<p>“signal” must be a numeric array of samples.</p>
<p>Your “signal” data should lie between -1 and 1 (smaller to play more<br />
softly). If the “signal” array has one row then it’s played monaurally,<br />
through both speakers. If it has two rows then it’s played in stereo.<br />
(<a href="Snd" class="uri">Snd</a> has no provision for changing which speaker(s), or the volume, used<br />
by a named snd resource, so use READSND to get the snd into an array,<br />
and supply the appropriately modified array to <a href="Snd" class="uri">Snd</a>.)</p>
<p>“rate” is the rate (in Hz) at which the samples in “signal” should be<br />
played. We suggest you always specify the “rate” parameter. If not<br />
specified, the sample “rate”, on all platforms, defaults to OS9’s<br />
standard hardware sample rate of 22254.5454545454 Hz. That value is<br />
returned by <a href="Snd" class="uri">Snd</a>(‘DefaultRate’). Other values can be specified.</p>
<p>OSX &amp; WIN: “samplesize”. <a href="Snd" class="uri">Snd</a> accepts the sampleSize argument and passes<br />
it to the Matlab SOUND command. SOUND (and therefore <a href="Snd" class="uri">Snd</a> also) obeys the<br />
specified sampleSize value, either 8 or 16, only if it is supported by<br />
your computer hardware.</p>
<p><a href="Snd" class="uri">Snd</a>(‘Play’,sin(0:10000)); % play 22 <a href="KHz" class="uri">KHz</a>/(2*pi)=3.5 kHz tone<br />
<a href="Snd" class="uri">Snd</a>(‘Play’,[sin(1:20000) zeros(1,10000);zeros(1,10000) sin(1:20000)]); % stereo<br />
<a href="Snd" class="uri">Snd</a>(‘Wait’); % wait until end of all sounds currently in channel<br />
<a href="Snd" class="uri">Snd</a>(‘Quiet’); % stop the sound and flush the queue</p>
<p>For most of the commands, the returned value is zero when successful, and<br />
a nonzero error number when <a href="Snd" class="uri">Snd</a> fails.</p>
<p><a href="Snd" class="uri">Snd</a>(‘Play’, signal) takes some time to open the channel, if it isn’t<br />
already open, and allocate a snd structure for your sound. This overhead<br />
of the call to <a href="Snd" class="uri">Snd</a>, if you call it in the middle of a movie, may be<br />
perceptible as a pause in the movie, which would be bad. However, the<br />
actual playing of the sound, asynchronously, is a background process that<br />
usually has very little overhead. So, even if you want a sound to begin<br />
after the movie starts, you should create a soundtrack for your entire<br />
movie duration (possibly including long silences), and call <a href="Snd" class="uri">Snd</a> to set<br />
the sound going before you start your movie. (Thanks to Liz Ching for<br />
raising the issue.)</p>
<p>NOTE: We suggest you always specify the “rate” parameter. If not<br />
specified, the sample rate, on all platforms, defaults to OS9’s<br />
standard hardware sample rate of 22254.5454545454 Hz. That value is returned<br />
by <a href="Snd" class="uri">Snd</a>(‘DefaultRate’).</p>
<p>See also <a href="PsychPortAudio" class="uri">PsychPortAudio</a>, <a href="Beeper" class="uri">Beeper</a>, AUDIOPLAYER, PLAY, <a href="MakeBeep" class="uri">MakeBeep</a>, READSND, and WRITESND.</p>
<div class="code_header" style="text-align:right;">
<p><span style="float:left;">Path  </span> <span class="counter">Retrieve <a href=
  "https://raw.github.com/Psychtoolbox-3/Psychtoolbox-3/beta/Psychtoolbox/PsychBasic/Snd.m">current version from GitHub</a> | View <a href=
  "https://github.com/Psychtoolbox-3/Psychtoolbox-3/commits/beta/Psychtoolbox/PsychBasic/Snd.m">changelog</a></span></p>
</div>
<div class="code">
<p><code>Psychtoolbox/PsychBasic/Snd.m</code></p>
</div>
